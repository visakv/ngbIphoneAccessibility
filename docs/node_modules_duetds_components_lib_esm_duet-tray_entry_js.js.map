{"version":3,"file":"node_modules_duetds_components_lib_esm_duet-tray_entry_js.js","mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO,GAAG,OAAO,EAAE,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO,GAAG,OAAO,EAAE,OAAO,EAAE,OAAO;AAChG;;AAEyB;;;;;;;;;;;;;;;;;;;;;ACVzB;AACA;AACA;AAC+F;AACjC;AACN;AAC8B;AACV;AACxC;;AAEpC,0CAA0C,sBAAsB,UAAU,SAAS,uBAAuB,SAAS,qBAAqB,wBAAwB,gBAAgB,MAAM,sBAAsB,UAAU,SAAS,uBAAuB,SAAS,qBAAqB,wBAAwB,gBAAgB,cAAc,WAAW,WAAW,eAAe,SAAS,QAAQ,OAAO,YAAY,aAAa,sBAAsB,6BAA6B,4BAA4B,yLAAyL,eAAe,gBAAgB,gBAAgB,cAAc,kBAAkB,mBAAmB,gCAAgC,6CAA6C,UAAU,2EAA2E,4BAA4B,yBAAyB,WAAW,mBAAmB,6BAA6B,WAAW,6BAA6B,iBAAiB,UAAU,yCAAyC,+DAA+D,0DAA0D,8DAA8D,4BAA4B,kLAAkL,cAAc,mBAAmB,qBAAqB,+BAA+B,mBAAmB,UAAU,wBAAwB,+BAA+B,kBAAkB,UAAU,4BAA4B,yBAAyB,mCAAmC,yBAAyB,mCAAmC,mBAAmB,yBAAyB,mCAAmC,oBAAoB,6BAA6B,mCAAmC,oBAAoB,sBAAsB,kBAAkB,YAAY,wBAAwB,aAAa,gBAAgB,kBAAkB,UAAU,4EAA4E,qBAAqB,yCAAyC,aAAa,6BAA6B,iBAAiB,mBAAmB,UAAU,8BAA8B,WAAW,gBAAgB,6BAA6B,gDAAgD,qBAAqB,kBAAkB,yBAAyB,iBAAiB,wBAAwB,kBAAkB,SAAS,QAAQ,YAAY,cAAc,kBAAkB,eAAe,kBAAkB,gCAAgC,wCAAwC,yBAAyB,kBAAkB,mBAAmB,6BAA6B,kBAAkB,mBAAmB,oCAAoC,cAAc,wCAAwC,0BAA0B,wBAAwB,UAAU,gDAAgD,+DAA+D,kEAAkE,8DAA8D,yBAAyB,gBAAgB,aAAa;;AAEt2G,6BAA6B,yDAAU,YAAY;AACnD;AACA;AACA,IAAI,qDAAgB;AACpB;AACA;AACA;AACA;AACA,wBAAwB,yDAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,8DAAW;AAC/B;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,gCAAgC,8DAAe;AAC/C;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,+BAA+B,8DAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,mEAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qDAAC,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,EAAE,qDAAC,UAAU,oDAAoD,EAAE,qDAAC,+CAA+C,qDAAC,CAAC,iDAAQ,QAAQ,qDAAC,aAAa,0IAA0I,oEAAoE,EAAE,qDAAC,gBAAgB,iFAAiF,GAAG,qDAAC,uGAAuG,qDAAC,UAAU,gCAAgC,uDAAuD,EAAE,qDAAC,UAAU,uCAAuC,EAAE,qDAAC,WAAW,oBAAoB;AACjvB;AACA,kBAAkB,OAAO,qDAAU;AACnC;AACA;;AAEiC;;;;;;;;;;;;;;;;;;;ACrIjC;AACA;AACA;AACoE;;AAEpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ,cAAc,6CAA6C;AAC9E,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB,aAAa,iBAAiB,wBAAwB,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuF;;;;;;;;;;;;;;;;;AC3FvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,GAAG,eAAe,GAAG,WAAW,GAAG,sBAAsB,yCAAyC,EAAE;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE,GAAG,EAAE,GAAG,OAAO;AAC9C,8BAA8B,MAAM,qBAAqB,MAAM;AAC/D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,wBAAwB;AACzD;AACA;AACA;;AAE+E","sources":["./node_modules/@duetds/components/lib/esm/create-id-981107da.js","./node_modules/@duetds/components/lib/esm/duet-tray.entry.js","./node_modules/@duetds/components/lib/esm/language-utils-bf701d37.js","./node_modules/@duetds/components/lib/esm/string-utils-5954f458.js"],"sourcesContent":["/*!\n * Built with Duet Design System\n */\nfunction chr4() {\n  return Math.random().toString(16).slice(-4);\n}\nfunction createID(prefix) {\n  return `${prefix}-${chr4()}${chr4()}-${chr4()}-${chr4()}-${chr4()}-${chr4()}${chr4()}${chr4()}`;\n}\n\nexport { createID as c };\n","/*!\n * Built with Duet Design System\n */\nimport { r as registerInstance, h, F as Fragment, g as getElement } from './index-54e0bce3.js';\nimport { s as sizeHeader } from './tokens.module-49cbf963.js';\nimport { c as createID } from './create-id-981107da.js';\nimport { a as getLanguage, g as getLocaleString } from './language-utils-bf701d37.js';\nimport { i as inheritGlobalTheme } from './themeable-component-e8fc98bf.js';\nimport './string-utils-5954f458.js';\n\nconst duetTrayCss = \"*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.duet-tray{position:fixed;top:4rem;right:0;left:0;z-index:399;display:flex;flex-direction:column;max-height:calc(100% - 8rem);padding:16px 20px 16px 24px;font-family:\\\"localtapiola-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";font-size:1rem;font-weight:400;line-height:1.5;color:#00294d;visibility:hidden;background:#f3f9fc;border-bottom:1px solid #e1e3e6;box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07);opacity:0;transition:opacity 600ms ease, visibility 600ms ease, transform 600ms ease;transform:translateY(-4rem)}@media (min-width: 62em){.duet-tray{padding:16px 36px}}@media (min-width: 106.25em){.duet-tray{padding:16px 52px 16px 60px}}.duet-tray:focus{outline:0}:host(.user-is-tabbing) .duet-tray:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}:host(.user-is-tabbing) .duet-tray.duet-theme-turva:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-tray.duet-theme-turva{font-family:\\\"turva-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";color:#171c3a;background:#f5f5f7;border-color:#e4e4e6}.duet-tray.duet-tray-is-active{visibility:visible;opacity:1;transform:translateY(0)}.duet-tray.duet-tray-is-hidden{visibility:hidden;opacity:0;transform:translateY(-4rem)}@media (min-width: 62em){.duet-tray.duet-tray-is-responsive{display:none !important}}.duet-tray.duet-tray-is-expandable{padding-right:66px}@media (min-width: 62em){.duet-tray.duet-tray-is-expandable{padding-right:78px}}@media (min-width: 106.25em){.duet-tray.duet-tray-is-expandable{padding-right:94px}}.duet-tray-expandable{position:relative;z-index:100;width:calc(100% + 46px);max-height:0;overflow-y:auto;visibility:hidden;opacity:0;transition:opacity 600ms ease, visibility 600ms ease, max-height 600ms ease;scrollbar-width:none}.duet-tray-expandable::-webkit-scrollbar{display:none}.duet-tray-expandable.active{max-height:500px;visibility:visible;opacity:1}.duet-tray-expandable-content{width:100%;margin-top:16px;border-top:1px solid #e1e3e6}.duet-theme-turva .duet-tray-expandable-content{border-color:#e4e4e6}.duet-tray-button{-webkit-user-select:none;user-select:none;padding:20px !important;position:absolute;top:-2px;right:0;z-index:200;color:#00294d;text-align:center;cursor:pointer;border-radius:4px;transition:transform 300ms ease;-webkit-tap-highlight-color:transparent}@media (min-width: 62em){.duet-tray-button{margin-right:16px}}@media (min-width: 106.25em){.duet-tray-button{margin-right:36px}}.duet-theme-turva .duet-tray-button{color:#171c3a}.duet-tray-button.duet-tray-is-expanded{transform:rotate(-180deg)}.duet-tray-button:focus{outline:0}:host(.user-is-tabbing) .duet-tray-button:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}:host(.user-is-tabbing) .duet-theme-turva .duet-tray-button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-tray-button:active{box-shadow:none;opacity:0.75}\";\n\nconst topOffset = parseFloat(sizeHeader) * 2 * 16; // convert rem -> px\nconst DuetTray = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Own Properties.\n     */\n    this.isTicking = false;\n    this.expandableId = createID(\"DuetTray\");\n    this.expanded = false;\n    /**\n     * The state of the info panel.\n     */\n    this.hiddenState = false;\n    /**\n     * The currently active language. This setting changes the accessible labels to match the\n     * chosen language.\n     * @deprecated this is now handled via the html lang tag, and is no longer used - kept to avoid breaking changes and ease unit testing\n     * @default \"fi\"\n     */\n    this.language = getLanguage();\n    /**\n     * Defaults for accessibleCloseLabel\n     * @default {fi: \"Sulje\", en: \"Close\", sv: \"Stänga\"}\n     */\n    this.accessibleCloseLabelDefaults = {\n      fi: \"Sulje\",\n      en: \"Close\",\n      sv: \"Stäng\",\n    };\n    /**\n     * Accessible label that is shown for screen reader users in the expandable\n     * close toggle. Not visible for normal users.\n     * @default {fi: \"Sulje\", en: \"Close\", sv: \"Stänga\"}\n     */\n    this.accessibleCloseLabel = getLocaleString(this.accessibleCloseLabelDefaults, this.language);\n    /**\n     * Defaults for accessibleOpenLabel\n     * @default {fi: \"Avaa\", en: \"Open\", sv: \"Öppen\"}\n     */\n    this.accessibleOpenLabelDefaults = {\n      fi: \"Avaa\",\n      en: \"Open\",\n      sv: \"Öppna\",\n    };\n    /**\n     * Accessible label that is shown for screen reader users in the expandable\n     * open toggle. Not visible for normal users.\n     * @default {fi: \"Avaa\", en: \"Open\", sv: \"Öppen\"}\n     */\n    this.accessibleOpenLabel = getLocaleString(this.accessibleOpenLabelDefaults, this.language);\n    /**\n     * Theme of the info panel.\n     */\n    this.theme = \"\";\n    /**\n     * Toggle whether the info panel is visible or not. You can use this\n     * property e.g. when pricing information is revealed to the user.\n     */\n    this.active = false;\n    /**\n     * Hide the info panel when user scrolls back to the top of the viewport.\n     */\n    this.autoHide = true;\n    /**\n     * Enable or disable the automatic responsive behaviour which\n     * makes the info panel hide on larger viewports. Settings this to\n     * \"false\" means that the header panel is visible on all device sizes.\n     */\n    this.responsive = true;\n    /**\n     * Local methods.\n     */\n    this.animationLoop = () => {\n      this.hiddenState = window.pageYOffset < topOffset;\n      this.isTicking = false;\n    };\n    this.toggleExpandable = ev => {\n      ev.preventDefault();\n      this.expanded = !this.expanded;\n    };\n  }\n  /**\n   * Component lifecycle events.\n   */\n  componentWillLoad() {\n    inheritGlobalTheme(this);\n    this.hasAdditionalContent = !!this.element.querySelector(\"[slot='additional']\");\n  }\n  /**\n   * Component event handling.\n   */\n  getFrame() {\n    if (!this.isTicking && this.autoHide && this.active) {\n      requestAnimationFrame(this.animationLoop);\n      this.isTicking = true;\n    }\n  }\n  handleBodyClick(e) {\n    if (this.expanded) {\n      this.expanded = this.element.contains(e.target);\n    }\n  }\n  /**\n   * render() function\n   * Always the last one in the class.\n   */\n  render() {\n    return (h(\"div\", { class: {\n        \"duet-tray\": true,\n        \"duet-tray-is-active\": this.active,\n        \"duet-tray-is-hidden\": this.hiddenState,\n        \"duet-tray-is-responsive\": this.responsive,\n        \"duet-theme-turva\": this.theme === \"turva\",\n        \"duet-tray-is-expandable\": this.hasAdditionalContent,\n      } }, h(\"div\", { class: \"duet-tray-default-content\", role: \"status\" }, h(\"slot\", null)), this.hasAdditionalContent && (h(Fragment, null, h(\"button\", { \"aria-expanded\": this.expanded ? \"true\" : \"false\", \"aria-controls\": this.expandableId, onClick: ev => this.toggleExpandable(ev), class: { \"duet-tray-button\": true, \"duet-tray-is-expanded\": this.expanded } }, h(\"duet-icon\", { name: \"action-arrow-down\", size: \"small\", color: \"currentColor\", margin: \"none\" }), h(\"duet-visually-hidden\", null, this.expanded ? this.accessibleCloseLabel : this.accessibleOpenLabel)), h(\"div\", { id: this.expandableId, class: { \"duet-tray-expandable\": true, active: this.expanded } }, h(\"div\", { class: \"duet-tray-expandable-content\" }, h(\"slot\", { name: \"additional\" })))))));\n  }\n  get element() { return getElement(this); }\n};\nDuetTray.style = duetTrayCss;\n\nexport { DuetTray as duet_tray };\n","/*!\n * Built with Duet Design System\n */\nimport { c as convertHtmlQuotes } from './string-utils-5954f458.js';\n\nconst localeLookUpTable = {\n  fi: \"fi-FI\",\n  en: \"en-GB\",\n  us: \"en-US\",\n  sv: \"sv-SE\",\n};\nconst localeMonetarySignifierLookUpTable = {\n  fi: \"€\",\n  en: \"£\",\n  us: \"$\",\n  sv: \"€\",\n};\nconst defLanguageArray = [\"fi\", \"en\", \"sv\"];\nconst defaultLanguage = \"fi\";\nconst getCurrentLanguage = () => {\n  return document.documentElement.lang ? document.documentElement.lang.toLowerCase() : defaultLanguage;\n};\nconst isOfTypeLanguage = (keyInput) => {\n  return defLanguageArray.includes(keyInput);\n};\nconst checkForLanguage = (languageString = getCurrentLanguage()) => {\n  if (isOfTypeLanguage(languageString)) {\n    return languageString;\n  }\n  else {\n    return defaultLanguage;\n  }\n};\n/**\n * Returns the current language as a string representation (taken from html lang attribute)\n * If language is not fi|sv|en it will default to \"fi\"\n * @param {string} lang=fi - \"fi\" | \"sv\" | \"en\"\n * @default {string} \"fi\"\n */\nconst getLanguage = (languageString = getCurrentLanguage()) => checkForLanguage(languageString);\n/**\n * Returns the current language and locale\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {string} lang=\"fi\" - \"fi\" | \"sv\" | \"en\" | \"us\"\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n */\nconst getLocale = (lang) => {\n  const returnObj = {\n    locale: localeLookUpTable[lang],\n    money: localeMonetarySignifierLookUpTable[lang],\n  };\n  if (returnObj.locale && returnObj.money) {\n    return returnObj;\n  }\n  throw new Error(`Locale for \"${lang}\" not found`);\n};\n/**\n * Takes any json object that is passed and/or htmlencoded and converts it to proper json\n */\nconst sanitizeString = (string) => {\n  const argIsString = typeof string === \"string\";\n  if (argIsString) {\n    try {\n      return JSON.parse(convertHtmlQuotes(string));\n    }\n    catch (e) {\n      console.log(\"sanitizeString received a string, that didnt parse to json object\", string, e);\n    }\n  }\n  return string;\n};\n/**\n * Returns the current string / object from a given translation object\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {object} langObject - {fi: \"finnish\", sv: \"swedish\", en: \"english\"} | string will get JSON.parsed\n * @param {boolean} languageOverride = false - in case you want to override the actual language set in html tag\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n * @returns {(string|Object)} given example contains {fi:\"something\"} and language===fi this will return \"something\"\n */\nconst getLocaleString = (langObject, languageOverride) => {\n  const obj = sanitizeString(langObject);\n  if (languageOverride) {\n    return obj[checkForLanguage(languageOverride)];\n  }\n  else {\n    return obj[getLanguage()];\n  }\n};\n\nexport { getLanguage as a, getLocale as b, getLocaleString as g, sanitizeString as s };\n","/*!\n * Built with Duet Design System\n */\nfunction isObject(maybeObj) {\n  return Object.prototype.toString.call(maybeObj) === \"[object Object]\";\n}\nconst parsePossibleJSON = (maybeJSON) => {\n  if (Array.isArray(maybeJSON) || isObject(maybeJSON)) {\n    return maybeJSON;\n  }\n  if (typeof maybeJSON === \"string\") {\n    try {\n      return JSON.parse(maybeJSON);\n    }\n    catch (e) {\n      console.warn(e);\n      try {\n        return JSON.parse(convertHtmlQuotes(maybeJSON));\n      }\n      catch (e) {\n        console.warn(e);\n      }\n    }\n  }\n  // undefined is not a type in JSON,\n  // so we use it here to signal invalid input\n  return undefined;\n};\n/**\n * Format string, via simplistic sprintf equivalent\n * @example String.format('{0} is super, but {1} is best! {{0}}', 'Duet', 'Coffee'); -> \"Duet is super, but Coffee ist best! {0}\"\n *\n */\n// @ts-ignore\nif (!String.format) {\n  // @ts-ignore\n  String.format = function (format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (curlyBrack, index) {\n      return curlyBrack == \"{{\" ? \"{\" : curlyBrack == \"}}\" ? \"}\" : args[index];\n    });\n  };\n}\nconst MATCH_DISALLOWED_CHARS = /[^a-z0-9áéíóúñüöäå \\.,_-]/gim;\nfunction sanitizeString(string) {\n  return string.replace(MATCH_DISALLOWED_CHARS, \"\").trim();\n}\nconst convertHtmlQuotes = string => {\n  if (typeof string === \"string\") {\n    return string.replace(/&quot;/g, '\"').replace(/&apos;/g, '\"');\n  }\n  return string;\n};\n\nexport { convertHtmlQuotes as c, parsePossibleJSON as p, sanitizeString as s };\n"],"names":[],"sourceRoot":"webpack:///"}