{"version":3,"file":"node_modules_duetds_components_lib_esm_duet-editable-table_3_entry_js.js","mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4DAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ,cAAc,6CAA6C;AAC9E,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB,aAAa,iBAAiB,wBAAwB,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuF;;;;;;;;;;;;;;;;;AC3FvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,GAAG,eAAe,GAAG,WAAW,GAAG,sBAAsB,yCAAyC,EAAE;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE,GAAG,EAAE,GAAG,OAAO;AAC9C,8BAA8B,MAAM,qBAAqB,MAAM;AAC/D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,wBAAwB;AACzD;AACA;AACA;;AAE+E","sources":["./node_modules/@duetds/components/lib/esm/create-id-981107da.js","./node_modules/@duetds/components/lib/esm/duet-editable-table_3.entry.js","./node_modules/@duetds/components/lib/esm/keyboard-utils-88ea1007.js","./node_modules/@duetds/components/lib/esm/language-utils-bf701d37.js","./node_modules/@duetds/components/lib/esm/string-utils-5954f458.js"],"sourcesContent":["/*!\n * Built with Duet Design System\n */\nfunction chr4() {\n  return Math.random().toString(16).slice(-4);\n}\nfunction createID(prefix) {\n  return `${prefix}-${chr4()}${chr4()}-${chr4()}-${chr4()}-${chr4()}-${chr4()}${chr4()}${chr4()}`;\n}\n\nexport { createID as c };\n","/*!\n * Built with Duet Design System\n */\nimport { h, r as registerInstance, c as createEvent, H as Host, g as getElement } from './index-54e0bce3.js';\nimport { f as fieldSorter, d as debounce } from './js-utils-52e0944c.js';\nimport { i as isKeyboardClick } from './keyboard-utils-88ea1007.js';\nimport { g as getLocaleString, s as sanitizeString } from './language-utils-bf701d37.js';\nimport { i as inheritGlobalTheme } from './themeable-component-e8fc98bf.js';\nimport { m as mediaQueryMedium, h as mediaQueryLarge, i as mediaQueryXLarge, j as mediaQueryXxLarge, k as mediaQueryXxxLarge, l as mediaQuerySmall, n as sizeNavigation, s as sizeHeader } from './tokens.module-49cbf963.js';\nimport { c as createID } from './create-id-981107da.js';\nimport './string-utils-5954f458.js';\n\n//simple functional component that renders the data in the table\nconst TableData = ({ data, groupId, alignment }, _children) => {\n  const classNames = `duet-editable-table duet-editable-table-content-${groupId}`;\n  if (typeof data === \"string\") {\n    return h(\"td\", { innerHTML: data, class: classNames, part: `${groupId}content`, style: { verticalAlign: alignment } });\n  }\n  else {\n    return (h(\"td\", { class: classNames, part: `${groupId}content`, style: { verticalAlign: alignment } }, data));\n  }\n};\n\nconst duetEditableTableCss = \".sc-duet-editable-table-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-editable-table-actions-menu.sc-duet-editable-table{position:relative;padding:0 !important;margin:0}.duet-editable-table-actions-menu-button.sc-duet-editable-table{position:relative;right:-16px;float:right;padding:0}.duet-editable-table-actions-menu-icon.sc-duet-editable-table .duet-icon.sc-duet-editable-table{max-width:16px;max-height:16px}.duet-editable-table-row.duet-table-action-row.sc-duet-editable-table .duet-text-right.sc-duet-editable-table{text-align:right}.duet-editable-table-header.sc-duet-editable-table tr.sc-duet-editable-table .duet-editable-table-header-hidden.sc-duet-editable-table{padding:0 !important;font-size:0;border-bottom:0}\";\n\nconst DuetEditableTable = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.duetTableToggle = createEvent(this, \"duetTableToggle\", 7);\n    this.duetMenuClick = createEvent(this, \"duetMenuClick\", 7);\n    /**\n     * Duet-table: margin of the component.\n     */\n    this.margin = \"auto\";\n    /**\n     * Duet-table: Style variation of the table.\n     */\n    this.variation = \"striped\";\n    /**\n     * Duet-table: Controls whether the table has a sticky header.\n     * Sticky headers are not compatible with breakpoint=\"none-scrollable\".\n     */\n    this.sticky = false;\n    /**\n     * Duet-table: Adjust the distance from top of the viewport (in pixels) when the\n     * table header becomes sticky.\n     */\n    this.stickyDistance = \"with-links\";\n    /**\n     * Duet-table: By default the table is responsive - it will be flattened at narrow viewport widths.\n     * This prop controls the breakpoint at which the table should be rendered as a _regular_ table.\n     * Set to \"none\" to disable the responsive functionality.\n     * Set to \"none-scrollable\" to disable responsive functionality _and_ allow horizontal scrolling -\n     * this is useful for comparison tables where it's important to maintain column and row layout.\n     */\n    this.breakpoint = \"small\";\n    /**\n     * Define actions for all items in a table\n     * An alternative to inline HTML table.\n     * required for Sortable tables\n     * @default undefined\n     */\n    this.actions = undefined;\n    /**\n     * Define columns for a table\n     * An alternative to inline HTML table.\n     * required for Sortable tables\n     * @default undefined\n     */\n    this.columns = undefined;\n    /**\n     * Define rows for a table\n     * An alternative to inline HTML table.\n     * required for Sortable tables\n     * @default undefined\n     */\n    this.rows = undefined;\n    /**\n     * Controls whether the table is sortable by headers\n     */\n    this.sortable = false;\n    /**\n     * Optional id that get passed to the table and used to setup ::parts\n     */\n    this.groupId = \"\";\n    /**\n     * Theme of the table.\n     */\n    this.theme = \"\";\n    /**\n     * Exposes the aria role for optimizing accessibility.\n     */\n    this.accessibleRole = undefined;\n    this.sortableDefaultLabel = {\n      fi: \"Järjestä\",\n      en: \"Click to sort\",\n      sv: \"Klicka för att sortera\",\n    };\n    this.actionColumnLabel = {\n      en: \"Actions for rows\",\n      fi: \"Toiminnot rivillä\",\n      sv: \"Åtgärder för rader\",\n    };\n    /**\n     * Private methods.\n     */\n    this.toggleColumn = (column, e) => {\n      e.preventDefault();\n      const { sort_order, direction, index, key } = column;\n      this.duetTableToggle.emit({\n        sort_order,\n        index,\n        direction,\n        key,\n        component: \"duet-editable-table\",\n        originalEvent: e,\n      });\n    };\n    this.handleKeyDown = (column, e) => {\n      if (isKeyboardClick(e)) {\n        this.toggleColumn(column, e);\n      }\n    };\n  }\n  /**\n   * Component lifecycle events.\n   */\n  componentWillLoad() {\n    inheritGlobalTheme(this);\n  }\n  createLabel(column) {\n    const { sort_order, direction, index, label } = column;\n    const i18nLabel = getLocaleString(label);\n    if (!this.sortable) {\n      return i18nLabel;\n    }\n    const getButtonIcon = () => {\n      // \"action-subtract-small\" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-subtract-small.svg\n      // \"action-arrow-down-small\" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-arrow-down-small.svg\n      // \"action-arrow-up-small\" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-arrow-up-small.svg\n      if (!!sort_order && direction === 1) {\n        return \"action-arrow-down-small\";\n      }\n      else if (!!sort_order && direction === -1) {\n        return \"action-arrow-up-small\";\n      }\n      return \"action-subtract-small\";\n    };\n    return (h(\"span\", { class: \"duet-table-label\", \"data-index\": index }, h(\"duet-button\", { size: \"small\", icon: getButtonIcon(), \"icon-size\": \"medium-small\", \"accessible-label\": getLocaleString(this.sortableDefaultLabel), variation: \"plain\", margin: \"none\", \"icon-right\": true, onClick: event => this.toggleColumn(column, event), onKeyDown: event => this.handleKeyDown(column, event) }, i18nLabel)));\n  }\n  getSortedColumns() {\n    //create a new array from sort instead of mutating original\n    return [...this.columns].sort(fieldSorter([\"index\"]));\n  }\n  getRowSortOrder() {\n    //create a new array from sort instead of mutating original\n    const fields = [...this.columns].sort(fieldSorter([\"sort_order\"]));\n    //return only key from objects that have sort_order\n    return fields\n      .filter(column => column.sort_order)\n      .map(column => {\n      // add - in-front of descending direction (required by field-sorter)\n      return column.direction === -1 ? `-${column.key}` : column.key;\n    });\n  }\n  renderTableHeader() {\n    if (!this.columns) {\n      return;\n    }\n    const sortedColumns = this.getSortedColumns();\n    return (h(\"tr\", { class: {\n        \"duet-table-action-header\": !!this.actions,\n      } }, sortedColumns.map(column => {\n      if (column.display !== false) {\n        return h(\"th\", { scope: \"col\" }, this.createLabel(column));\n      }\n    }), this.actions && (h(\"th\", { scope: \"col\", class: \"duet-table-action-header-heading\" }, this.actions && h(\"duet-visually-hidden\", null, getLocaleString(this.actionColumnLabel))))));\n  }\n  renderActions(rowItem, index) {\n    // escape early\n    if (!this.actions) {\n      return;\n    }\n    // iterate through actions and add them in the sidebar\n    return (h(\"td\", { class: \"duet-text-right\" }, this.actions.map(actionItem => {\n      return (h(\"duet-action-button\", { actionMeta: Object.assign({}, (rowItem === null || rowItem === void 0 ? void 0 : rowItem.meta) || {}, { index }), actionId: (rowItem === null || rowItem === void 0 ? void 0 : rowItem.uid) || (rowItem === null || rowItem === void 0 ? void 0 : rowItem.id) || null, actionName: actionItem.name, theme: this.theme, iconName: actionItem.icon, iconColor: actionItem.color, iconSize: actionItem.size, background: actionItem.background }));\n    })));\n  }\n  renderTableBody() {\n    const columns = this.getSortedColumns();\n    const rowSortOrder = this.getRowSortOrder();\n    const sortedRows = [...this.rows].sort(fieldSorter(rowSortOrder));\n    // return a tbody with rows for each item in sortedRows\n    return sortedRows.map((row, index) => (h(\"tr\", { class: {\n        \"duet-table-action-row\": !!this.actions,\n        \"duet-editable-table-row\": true,\n        [`duet-editable-table-row-${this.groupId}`]: true,\n      }, \"data-meta\": JSON.stringify(row.meta) }, columns.map(column => {\n      //if we don't have any data for this column, try getting an item instead (for backwards compatibility\n      const value = row[column.key] ? row[column.key] : row.item;\n      if (column.display !== false) {\n        return h(TableData, { data: value, groupId: this.groupId });\n      }\n    }), this.actions && this.renderActions(row, index))));\n  }\n  /**\n   * Render Methods\n   */\n  render() {\n    return (h(Host, { class: {\n        [`duet-editable-table-${this.variation}`]: true,\n        [`duet-editable-table-${this.theme}`]: true,\n        // sticky only valid when in regular table layout\n        \"duet-editable-table-scrollable\": this.breakpoint === \"none-scrollable\",\n        \"duet-editable-table-sortable\": this.sortable,\n        \"duet-editable-table-actions\": !!this.actions,\n        \"duet-m-0\": this.margin === \"none\",\n        \"duet-theme-turva\": this.theme === \"turva\",\n      } }, h(\"duet-table\", { sticky: this.sticky, stickyDistance: this.stickyDistance, margin: this.margin, theme: this.theme, variation: this.variation, breakpoint: this.breakpoint }, h(\"table\", { role: this.accessibleRole }, h(\"caption\", null, h(\"slot\", { name: \"tcaption\" })), h(\"thead\", null, h(\"tr\", null, h(\"td\", { class: \"duet-editable-table-actions-menu\", colSpan: 99 }, h(\"slot\", { name: \"thead-first\" }))), this.renderTableHeader(), h(\"tr\", null, h(\"td\", { class: \"duet-editable-table-actions-menu\", colSpan: 99 }, h(\"slot\", { name: \"thead-last\" })))), h(\"tbody\", null, this.renderTableBody()), h(\"tfoot\", null, h(\"tr\", null, h(\"th\", { class: \"duet-editable-table-footer-menu\", colSpan: 99 }, h(\"slot\", { name: \"tfoot\" }))))))));\n  }\n  get element() { return getElement(this); }\n};\nDuetEditableTable.style = duetEditableTableCss;\n\nconst duetTableCss = \"duet-table{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:20px !important;display:block;font-variant-numeric:tabular-nums}duet-table table,duet-table thead,duet-table tbody,duet-table tfoot,duet-table th,duet-table td,duet-table tr{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}duet-table.duet-m-0{margin:0 !important}duet-table table{width:100%;font-family:\\\"localtapiola-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";font-size:1rem;text-align:left;border-spacing:0;border-collapse:separate}duet-table.duet-theme-turva table{font-family:\\\"turva-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\"}duet-table td{-webkit-hyphens:auto;hyphens:auto;color:#00294d}duet-table.duet-theme-turva td{color:#171c3a}duet-table th{font-weight:600;line-height:1.25;color:#657787;text-align:left}duet-table.duet-theme-turva th{color:#747475}duet-table tbody th{font-weight:600;color:#00294d}duet-table.duet-theme-turva tbody th{color:#171c3a}duet-table .duet-table-action-row td:last-child{justify-self:end;padding-right:20px !important;white-space:nowrap}.duet-table-flattened tbody tr{display:grid;grid-template-columns:repeat(2, 1fr);grid-auto-rows:auto;gap:10px}.duet-table-flattened tbody tr.duet-table-action-row td:last-child::before{padding:0;content:\\\"\\\"}.duet-table-flattened thead tr{position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}.duet-table-flattened td{grid-column:1/2;line-height:1.25}.duet-table-flattened td:not(:last-child){margin-bottom:16px !important}.duet-table-flattened td:first-child{grid-row:1;grid-column:1}.duet-table-flattened td:last-child{grid-row:1;grid-column:2}.duet-table-flattened tbody td,.duet-table-flattened tbody th,.duet-table-flattened tfoot td{padding:0 !important;text-align:left !important}.duet-table-flattened tbody th{font-weight:600;line-height:1.25;color:#657787;text-align:left}.duet-table-flattened td[data-heading]::before{margin-bottom:4px !important;display:block;font-size:1rem;font-weight:600;color:#00294d;content:attr(data-heading)}.duet-table-flattened.duet-theme-turva td[data-heading]::before{color:#171c3a}.duet-table-sticky thead th{position:sticky;top:0;background:white}.duet-table-striped td,.duet-table-striped th{padding:20px !important}@media (max-width: 35.9375em){.duet-table-striped td,.duet-table-striped th{padding:20px 12px !important}}.duet-table-striped tbody th{background:white}.duet-table-striped.duet-table-sticky thead th{border-bottom:1px solid #e1e3e6}.duet-table-striped.duet-table-sticky.duet-theme-turva thead th{border-bottom-color:#e4e4e6}.duet-table-striped tbody:not(:first-of-type) th{padding-top:40px !important}.duet-table-striped tbody:only-of-type tr:nth-of-type(odd){background:rgba(0, 80, 128, 0.04)}.duet-table-striped.duet-theme-turva tbody:only-of-type tr:nth-of-type(odd){background:rgba(23, 28, 58, 0.04)}.duet-table-striped tbody:not(:only-of-type) tr:nth-of-type(even){background:rgba(0, 80, 128, 0.04)}.duet-table-striped.duet-theme-turva tbody:not(:only-of-type) tr:nth-of-type(even){background:rgba(23, 28, 58, 0.04)}.duet-table-striped tfoot td{border-top:1px solid #e1e3e6}.duet-table-striped.duet-theme-turva tfoot td{border-top-color:#e4e4e6}.duet-table-striped.duet-table-flattened tbody:not(:first-of-type) th{padding-top:20px !important}.duet-table-striped.duet-table-flattened tr{padding:20px !important}.duet-table-striped.duet-table-flattened tfoot td{border-top:0}.duet-table-striped.duet-table-flattened tfoot tr{border-top:1px solid #e1e3e6}.duet-table-striped.duet-table-flattened.duet-theme-turva tfoot tr{border-top-color:#e4e4e6}.duet-table-fixed th,.duet-table-minimal th,.duet-table-plain th{padding:16px !important;border-bottom:1px solid #657787}.duet-table-fixed th:first-child,.duet-table-minimal th:first-child,.duet-table-plain th:first-child{padding-left:0 !important}.duet-table-fixed th:last-child,.duet-table-minimal th:last-child,.duet-table-plain th:last-child{padding-right:0 !important}.duet-theme-turva.duet-table-fixed th,.duet-theme-turva.duet-table-minimal th,.duet-theme-turva.duet-table-plain th{border-bottom-color:#444445}.duet-table-fixed tbody th,.duet-table-minimal tbody th,.duet-table-plain tbody th{padding-top:40px !important;border-bottom-color:#e1e3e6}.duet-theme-turva.duet-table-fixed tbody th,.duet-theme-turva.duet-table-minimal tbody th,.duet-theme-turva.duet-table-plain tbody th{border-bottom-color:#e4e4e6}.duet-table-fixed td,.duet-table-minimal td,.duet-table-plain td{padding:16px !important}.duet-table-fixed td:first-child,.duet-table-minimal td:first-child,.duet-table-plain td:first-child{padding-left:0 !important}.duet-table-fixed td:last-child,.duet-table-minimal td:last-child,.duet-table-plain td:last-child{padding-right:0 !important}.duet-table-fixed tbody td,.duet-table-minimal tbody td,.duet-table-plain tbody td{border-bottom:1px solid #e1e3e6}.duet-theme-turva.duet-table-fixed tbody td,.duet-theme-turva.duet-table-minimal tbody td,.duet-theme-turva.duet-table-plain tbody td{border-bottom-color:#e4e4e6}.duet-table-flattened.duet-table-fixed tbody:first-of-type th,.duet-table-flattened.duet-table-minimal tbody:first-of-type th,.duet-table-flattened.duet-table-plain tbody:first-of-type th{padding-top:0 !important}.duet-table-flattened.duet-table-fixed td,.duet-table-flattened.duet-table-minimal td,.duet-table-flattened.duet-table-plain td,.duet-table-flattened.duet-table-fixed tbody th,.duet-table-flattened.duet-table-minimal tbody th,.duet-table-flattened.duet-table-plain tbody th{border-bottom:0}.duet-table-flattened.duet-table-fixed tr,.duet-table-flattened.duet-table-minimal tr,.duet-table-flattened.duet-table-plain tr{padding:20px 0 !important}.duet-table-flattened.duet-table-fixed tbody th,.duet-table-flattened.duet-table-minimal tbody th,.duet-table-flattened.duet-table-plain tbody th{padding-top:20px !important}.duet-table-flattened.duet-table-fixed tfoot td,.duet-table-flattened.duet-table-minimal tfoot td,.duet-table-flattened.duet-table-plain tfoot td{margin-bottom:4px !important}.duet-table-flattened.duet-table-fixed tbody:not(:only-of-type) tr:first-child,.duet-table-flattened.duet-table-minimal tbody:not(:only-of-type) tr:first-child,.duet-table-flattened.duet-table-plain tbody:not(:only-of-type) tr:first-child{border-bottom:0}.duet-table-plain.duet-table-flattened tbody tr{border-bottom:1px solid #e1e3e6}.duet-table-plain.duet-table-flattened.duet-theme-turva tbody tr{border-bottom-color:#e4e4e6}.duet-table-minimal tbody tr,.duet-table-minimal tbody tr td{vertical-align:top;border-bottom:0 none}.duet-table-minimal tbody tr:last-of-type,.duet-table-minimal tbody tr:last-of-type td{border-bottom:1px solid #e1e3e6}.duet-table-minimal.duet-table-flattened tbody tr,.duet-table-minimal.duet-table-flattened tbody tr td{border-bottom:0 none}.duet-table-minimal.duet-table-flattened tbody tr td[data-heading]::before{display:none}.duet-table-minimal.duet-table-flattened tfoot{border-top:1px solid #e1e3e6}.duet-table-minimal.duet-table-flattened.duet-theme-turva tfoot{border-top-color:#e4e4e6}.duet-table-fixed table{table-layout:fixed}.duet-table-fixed tbody tr,.duet-table-fixed tbody tr td,.duet-table-fixed tbody tr td:first-child{padding:4px !important;vertical-align:text-bottom;border-bottom:0 none}.duet-table-fixed thead{display:none}.duet-table-fixed tbody tr,.duet-table-fixed tbody tr td{border-bottom:0 none}.duet-table-fixed:not(.duet-table-flattened) tfoot{border-top:1px solid #e1e3e6}.duet-table-fixed:not(.duet-table-flattened).duet-theme-turva tfoot{border-top-color:#e4e4e6}.duet-table-scrollable{position:relative;width:100%;overflow-x:auto;background:linear-gradient(90deg, #fff 0%, rgba(255, 255, 255, 0)), linear-gradient(-90deg, #fff 0%, rgba(255, 255, 255, 0)) 100% 0, radial-gradient(farthest-side at 0% 50%, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0)), radial-gradient(farthest-side at 100% 50%, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0)) 100% 0%;background-repeat:no-repeat;background-attachment:local, local, scroll, scroll;background-size:100px 100%, 100px 100%, 12px 100%, 12px 100%}.duet-table-selected-column{background:rgba(0, 119, 179, 0.08)}.duet-theme-turva .duet-table-selected-column{background:rgba(68, 68, 69, 0.08)}.duet-table-sortable tbody tr td:first-child,.duet-table-sortable thead tr th:first-child{padding:20px}.duet-table-sortable:not(.duet-table-flattened) tfoot{border-top:1px solid #e1e3e6}.duet-table-sortable:not(.duet-table-flattened).duet-theme-turva tfoot{border-top-color:#e4e4e6}.duet-table-actions table{table-layout:auto}.duet-table-actions thead th:last-child{width:1px;white-space:nowrap}\";\n\n// remove wrapping speech marks.\n// media query tokens are wrapped in speech marks,\n// which need to be removed before use with matchMedia.\nconst unwrap = (str) => str.substring(1, str.length - 1);\nconst breakpointToToken = {\n  none: \"all\",\n  \"none-scrollable\": \"all\",\n  small: unwrap(mediaQuerySmall),\n  medium: unwrap(mediaQueryMedium),\n  large: unwrap(mediaQueryLarge),\n  \"x-large\": unwrap(mediaQueryXLarge),\n  \"xx-large\": unwrap(mediaQueryXxLarge),\n  \"xxx-large\": unwrap(mediaQueryXxxLarge),\n};\nconst stickyTopValues = {\n  none: 0,\n  \"with-links\": parseFloat(sizeNavigation) * 16,\n  \"without-links\": parseFloat(sizeHeader) * 16,\n};\nconst DuetTable = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /**\n     * Tracks whether the breakpoint is matched. This is set to true by default so that JavaScript disabled in SSR mode we get accessible table data first.\n     */\n    this.matchesBreakpoint = true;\n    /**\n     * Controls the margin of the component.\n     */\n    this.margin = \"auto\";\n    /**\n     * Style variation of the table.\n     */\n    this.variation = \"striped\";\n    /**\n     * Controls whether the table has a sticky header.\n     * Sticky headers are not compatible with breakpoint=\"none-scrollable\".\n     */\n    this.sticky = false;\n    /**\n     * Adjust the distance from top of the viewport (in pixels) when the\n     * table header becomes sticky.\n     */\n    this.stickyDistance = \"with-links\";\n    /**\n     * By default the table is responsive - it will be flattened at narrow viewport widths.\n     * This prop controls the breakpoint at which the table should be rendered as a _regular_ table.\n     * Set to \"none\" to disable the responsive functionality.\n     * Set to \"none-scrollable\" to disable responsive functionality _and_ allow horizontal scrolling -\n     * this is useful for comparison tables where it's important to maintain column and row layout.\n     */\n    this.breakpoint = \"small\";\n    this.handleMediaQueryChange = (mq) => {\n      this.matchesBreakpoint = mq.matches;\n    };\n  }\n  connectedCallback() {\n    this.mq = matchMedia(breakpointToToken[this.breakpoint]);\n    this.mq.addEventListener(\"change\", debounce(this.handleMediaQueryChange, 50));\n    this.handleMediaQueryChange(this.mq);\n    this.observer = new MutationObserver(() => debounce(this.copyHeadingsToCells(), 50));\n    this.observer.observe(this.element, {\n      childList: true,\n      subtree: true,\n    });\n  }\n  componentWillLoad() {\n    inheritGlobalTheme(this);\n    this.copyHeadingsToCells();\n    if (this.sticky && this.breakpoint === \"none-scrollable\") {\n      console.warn(`[DUET WARNING]: sticky and breakpoint=\"none-scrollable\" are incompatible. Scrollable takes precedence`);\n    }\n    if (this.sticky) {\n      const stickyTop = stickyTopValues[this.stickyDistance];\n      const headingElements = this.element.querySelectorAll(\"thead th\");\n      headingElements.forEach(th => (th.style.top = `${stickyTop}px`));\n    }\n  }\n  componentDidLoad() {\n    // this clears all pending mutations,\n    // that way we avoid dealing with any initial changes\n    // and only get genuine mutations as rows are added/removed\n    this.observer.takeRecords();\n  }\n  disconnectedCallback() {\n    this.observer.disconnect();\n    this.observer = null;\n    this.mq.removeListener(this.handleMediaQueryChange);\n    this.mq = null;\n    this.matchesBreakpoint = true;\n  }\n  /**\n   * Local methods.\n   */\n  copyHeadingsToCells() {\n    const headingElements = this.element.querySelectorAll(\"thead th\");\n    const rowElements = this.element.querySelectorAll(\"tbody tr\");\n    const headings = Array.from(headingElements).map(th => th.textContent.trim());\n    rowElements.forEach(tr => {\n      tr.querySelectorAll(\"td\").forEach((td, i) => {\n        if (headings[i]) {\n          td.dataset.heading = headings[i];\n        }\n      });\n    });\n  }\n  render() {\n    return (h(Host, { class: {\n        [`duet-table-${this.variation}`]: true,\n        \"duet-table-flattened\": !this.matchesBreakpoint,\n        // sticky only valid when in regular table layout\n        \"duet-table-sticky\": this.matchesBreakpoint && this.sticky,\n        \"duet-table-scrollable\": this.breakpoint === \"none-scrollable\",\n        \"duet-m-0\": this.margin === \"none\",\n        \"duet-theme-turva\": this.theme === \"turva\",\n      } }, h(\"slot\", null)));\n  }\n  get element() { return getElement(this); }\n};\nDuetTable.style = duetTableCss;\n\nconst errorCodes = [\n\t{\n\t\ttype: \"default\",\n\t\tsystem_message: \"unknown error\",\n\t\tmessage: {\n\t\t\tfi: \"Tapahtui tuntematon virhe, ole hyvä ja yritä uudelleen.\",\n\t\t\tsv: \"Ett okänt fel uppstod, försök igen.\",\n\t\t\ten: \"An unknown error occured, please try again.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"400\",\n\t\tsystem_message: \"Bad Request: The server could not understand the request due to invalid syntax.\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedostoa ei hyväksytty.\",\n\t\t\tsv: \"Servern avvisade din fil.\",\n\t\t\ten: \"The server rejected your file.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"401\",\n\t\tsystem_message: \"Not Authenticated: The client must authenticate itself to get the requested response...\",\n\t\tmessage: {\n\t\t\tfi: \"Vain kirjautunut käyttäjä voi lähettää tiedostoja.\",\n\t\t\tsv: \"Du måste vara inloggad för att ladda upp filer.\",\n\t\t\ten: \"You need to be logged in to upload files.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"403\",\n\t\tsystem_message: \"No Access: The client does not have access rights to the content.\",\n\t\tmessage: {\n\t\t\tfi: \"Ei oikeuksia lähettää tiedostoja.\",\n\t\t\tsv: \"Du har inte rätt åtkomsträttigheter för att ladda upp filer.\",\n\t\t\ten: \"You do not have the correct access rights to upload files.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"413\",\n\t\tsystem_message: \"Payload too large\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedosto oli liian vastaanotettavaksi.\",\n\t\t\tsv: \"Filen var för stor för servern att hantera.\",\n\t\t\ten: \"The file was to large for the server to handle.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"415\",\n\t\tsystem_message: \"Unsupported media type\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedoston tyyppi oli väärä.\",\n\t\t\tsv: \"Servern avvisade filen eftersom den hade fel typ.\",\n\t\t\ten: \"The server rejected the file because it had the wrong type.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"429\",\n\t\tsystem_message: \"Too many request from same address\",\n\t\tmessage: {\n\t\t\tfi: \"Liian monta yritystä, ole hyvä ja yritä myöhemmin uudelleen.\",\n\t\t\tsv: \"Servern har fått många förfrågningar från dig, försök igen senare.\",\n\t\t\ten: \"The server has received to many request from you, please try again later.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"500\",\n\t\tsystem_message: \"Internal Server Error\",\n\t\tmessage: {\n\t\t\tfi: \"Palvelin ilmoitti tuntemattomasta virheestä ja lataus epäonnistui.\",\n\t\t\tsv: \"Servern rapporterade ett okänt fel och uppladdningen misslyckades.\",\n\t\t\ten: \"The server reported an unknown error and the upload failed.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-100\",\n\t\tsystem_message: \"File extension not allowed\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedoston tyyppi ei ole sallittu.\",\n\t\t\tsv: \"Du kan inte ladda upp filer av den type.\",\n\t\t\ten: \"You cannot upload files with that extension.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-001\",\n\t\tsystem_message: \"File transfer failed\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedoston lähetys keskeytyi, ole hyvä ja yritä uudelleen.\",\n\t\t\tsv: \"Din anslutning till servern avbröts, försök igen.\",\n\t\t\ten: \"Your connection to the server was interrupted, try again.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-101\",\n\t\tsystem_message: \"File mimetype not allowed\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedoston tyyppi ei ole sallittu.\",\n\t\t\tsv: \"Du kan inte ladda upp filer av den typ.\",\n\t\t\ten: \"You cannot upload files of that type.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-201\",\n\t\tsystem_message: \"File is too large\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedosto on liian iso.\",\n\t\t\tsv: \"Filen är större än tillåtet.\",\n\t\t\ten: \"The file is larger than permitted.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-202\",\n\t\tsystem_message: \"The combined size of all files is too large\",\n\t\tmessage: {\n\t\t\tfi: \"Tiedostojen yhteenlaskettu koko on liian iso.\",\n\t\t\tsv: \"Du har nått den maximala kombinerade filstorleken.\",\n\t\t\ten: \"You have reached the maximum combined filesize.\"\n\t\t}\n\t},\n\t{\n\t\ttype: \"duet-upload-301\",\n\t\tsystem_message: \"The maximum file limit has been reached\",\n\t\tmessage: {\n\t\t\tfi: \"Liitteiden maksimimäärä saavutettu.\",\n\t\t\tsv: \"Maximalt antal bilagor har uppnåtts.\",\n\t\t\ten: \"Maximum number of attachments reached.\"\n\t\t}\n\t}\n];\n\nconst getError = (code) => {\n  let error = {\n    type: undefined,\n    system_message: undefined,\n    message: undefined,\n  };\n  error = errorCodes.filter(errorItem => {\n    // the == is intentional we may be comparing numbers to strings - and that is ok here\n    return errorItem.type == code;\n  })[0];\n  if (!error) {\n    error = errorCodes.filter(errorItem => {\n      return errorItem.type === \"default\";\n    })[0];\n  }\n  return error;\n};\nconst getI18nError = (errorCode) => {\n  const errorFromJson = getError(errorCode);\n  const i18String = getLocaleString(errorFromJson.message);\n  if (i18String === \"\" || !i18String) {\n    return errorFromJson.system_message;\n  }\n  else {\n    return i18String;\n  }\n};\n\nconst ErrorItem = ({ data }) => {\n  const { item, error } = data;\n  const { name } = item;\n  const { type } = error;\n  return (h(\"span\", { class: \"duet-upload-item-error\", role: \"status\" },\n    h(\"duet-paragraph\", { class: \"duet-upload-item-name\", color: \"danger\", margin: \"none\", weight: \"semi-bold\" },\n      h(\"duet-icon\", { margin: \"none\", size: \"xx-small\", name: \"messaging-attachment\" }),\n      \" \",\n      name),\n    h(\"duet-paragraph\", { class: \"duet-upload-item-error-label\", size: \"small\", margin: \"none\", color: \"danger\" }, getI18nError(type))));\n};\n\nconst ProgressItem = ({ progress, name }) => (h(\"span\", null,\n  h(\"duet-paragraph\", { color: \"secondary\", margin: \"none\", size: \"small\" }, name),\n  h(\"duet-spacer\", { size: \"xx-small\" }),\n  h(\"duet-progress\", { progress: Math.ceil(progress), \"aria-hidden\": true })));\n\nconst formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) {\n    return \"0 Bytes\";\n  }\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n};\n\nconst SuccessItem = ({ data, showLinks }) => {\n  const { item, size, uploaded, url, meta } = data;\n  const { name } = item;\n  const ContentName = (h(\"span\", { class: \"duet-upload-item-name\" },\n    h(\"duet-icon\", { margin: \"none\", size: \"x-small\", name: \"messaging-attachment\" }),\n    h(\"duet-spacer\", { size: \"xx-small\", direction: \"horizontal\" }),\n    name));\n  const SizeText = (h(\"span\", { class: \"duet-upload-item-size\", style: { fontSize: \"14px\", fontWeight: \"400\" } },\n    \"(\",\n    formatBytes(size),\n    \")\"));\n  const FilenameLine = uploaded && url && showLinks ? (h(\"duet-paragraph\", { color: \"secondary\", margin: \"none\", weight: \"semi-bold\" },\n    h(\"duet-link\", { url: url, external: true }, ContentName),\n    h(\"duet-spacer\", { size: \"xx-small\", direction: \"horizontal\" }),\n    SizeText)) : (h(\"duet-paragraph\", { color: \"secondary\", margin: \"none\", weight: \"semi-bold\" },\n    ContentName,\n    h(\"duet-spacer\", { size: \"xx-small\", direction: \"horizontal\" }),\n    SizeText));\n  const Badges = meta && meta.badges ? (h(\"span\", null,\n    h(\"duet-spacer\", { size: \"xx-small\" }),\n    meta.badges.map(badgeText => (h(\"duet-badge\", { color: \"primary\" }, badgeText))))) : undefined;\n  return (h(\"span\", { class: \"duet-upload-item-success\" },\n    h(\"div\", null, FilenameLine),\n    Badges));\n};\n\nconst validateFileExtension = (name, allowedExtensions) => {\n  if (!allowedExtensions) {\n    return true;\n  }\n  const ext = name.split(\".\");\n  const validExtension = allowedExtensions.split(\",\");\n  const extension = ext[ext.length - 1];\n  return validExtension.includes(extension);\n};\nconst validateFileMime = (type, allowedMimetypes) => {\n  if (!allowedMimetypes || !type) {\n    return true;\n  }\n  const validMimeTypes = allowedMimetypes.split(\",\");\n  let valid = false;\n  validMimeTypes.forEach(mimeType => {\n    const allowedTypes = mimeType.split(\"/\");\n    const fileType = type.split(\"/\");\n    if (allowedTypes[0] === fileType[0] && (allowedTypes[1] === fileType[1] || allowedTypes[1] === \"*\")) {\n      valid = true;\n    }\n  });\n  return valid;\n};\nconst validateFileSize = (size, maxBytes) => {\n  if (!maxBytes || !size) {\n    return true;\n  }\n  return maxBytes >= size;\n};\nconst validateFile = (item, validators) => {\n  const { allowedMimetypes, allowedExtensions, maxBytes } = validators;\n  let valid = false;\n  let errorMessage = getError(\"default\");\n  if (item) {\n    const { name, type, size } = item;\n    const mime = validateFileMime(type, allowedMimetypes);\n    const ext = validateFileExtension(name.toLowerCase(), allowedExtensions);\n    const bytes = validateFileSize(size, maxBytes);\n    if (!mime) {\n      errorMessage = getError(\"duet-upload-101\");\n    }\n    if (!ext) {\n      errorMessage = getError(\"duet-upload-100\");\n    }\n    if (!bytes) {\n      errorMessage = getError(\"duet-upload-201\");\n    }\n    valid = mime && ext && bytes;\n  }\n  else {\n    valid = false;\n  }\n  return {\n    valid,\n    errorMessage: valid ? undefined : getLocaleString(errorMessage.message),\n    errorSystem: valid ? undefined : errorMessage.system_message,\n    errorType: valid ? undefined : errorMessage.type,\n  };\n};\nconst validateTotalSizeIsAboveMax = (filelist, maxTotalBytes) => {\n  let total = 0;\n  if (maxTotalBytes) {\n    filelist.forEach(item => {\n      if (item.valid && item.size) {\n        total += item.size;\n      }\n    });\n    if (total < maxTotalBytes) {\n      return true;\n    }\n  }\n  return false;\n};\nconst validateTotalAmountIsAboveMax = (filelist, maxFiles) => {\n  let total = 0;\n  if (maxFiles) {\n    filelist.forEach(item => {\n      if (item.valid) {\n        total++;\n      }\n    });\n    if (total > maxFiles) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst makeXhrRequest = ({ payload, options, onFailure, onSuccess, onProgress }) => {\n  const { type = \"POST\", xhr, uri, argument = null, headers = null } = options;\n  xhr.open(type, `${uri}${argument || \"\"}`, true);\n  const { data, name } = payload;\n  // headers must be added after open\n  if (headers) {\n    Object.keys(headers).forEach(key => {\n      xhr.setRequestHeader(key, headers[key]);\n    });\n  }\n  if (type === \"POST\") {\n    xhr.onreadystatechange = () => {\n      // Call a function when the state changes.\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status >= 200 && xhr.status < 300) {\n        // Request finished without errors\n        onSuccess(xhr, name, xhr.status);\n      }\n      if (xhr.readyState === XMLHttpRequest.DONE && xhr.status >= 300 && xhr.status < 999) {\n        // Request finished with errors\n        onFailure(xhr, name, xhr.status);\n      }\n    };\n    onProgress(name);\n  }\n  xhr.send(data);\n  return xhr;\n};\n\nconst duetUploadCss = \"*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}::slotted([slot=header]){margin-bottom:16px}::slotted([slot=fileheader]){margin:16px 0 0 0}::slotted([slot=filefooter]){margin-top:16px}.duet-upload{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-upload-item-size{font-size:0.75rem;font-weight:400}.duet-upload-filelist{margin-bottom:25px}.duet-upload-filelist-empty{display:flex;align-items:center;justify-content:center;width:100%;height:75px;margin:0 auto;font-size:1rem;font-weight:400;background-color:#f5f8fa}.duet-upload-filelist-empty-label{font-size:1rem;font-weight:400}.duet-upload-editable-table-header-hidden{display:none}.duet-upload-editable-table tbody .duet-upload-editable-table-data{padding:0 !important;border:0}.duet-upload-editable-table duet-editable-table tfoot,.duet-upload-editable-table duet-editable-table thead{display:none}.duet-upload-editable-table duet-editable-table .duet-editable-table-content{padding-right:0 !important;padding-left:0 !important}.duet-upload-editable-table duet-editable-table duet-table .duet-table-action-row td{padding:0.75rem 0 !important}.duet-upload-editable-table duet-editable-table duet-table .duet-table-action-row td:last-child{padding-right:0 !important}.duet-upload-editable-table duet-editable-table .duet-editable-table-row-inprogress duet-action-button::part(button){border:0}.duet-upload-editable-table .duet-upload-item-name duet-icon{position:relative;top:2px}duet-paragraph::part(duet-paragraph){word-break:break-word}\";\n\nconst DuetUpload = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.duetChange = createEvent(this, \"duetChange\", 3);\n    this.duetBlur = createEvent(this, \"duetBlur\", 7);\n    this.duetFocus = createEvent(this, \"duetFocus\", 7);\n    this.duetDone = createEvent(this, \"duetDone\", 3);\n    this.duetState = createEvent(this, \"duetState\", 3);\n    this.duetDelete = createEvent(this, \"duetDelete\", 3);\n    this.duetCancel = createEvent(this, \"duetCancel\", 3);\n    this.duetProgress = createEvent(this, \"duetProgress\", 3);\n    this.duetUpload = createEvent(this, \"duetUpload\", 3);\n    /**\n     * State() variables\n     */\n    this.tick = Date.now();\n    /**\n     * If external is set to true, the upload component will not actually upload the files, but only keep states\n     * it will be up to you to handle the upload and return progress information to the upload-component\n     */\n    this.external = false;\n    /**\n     * If set the upload component will not display an upload button, you will have to create one yourself\n     * and call the exposed method startUpload\n     */\n    this.hideButton = false;\n    /**\n     * Default actions added to the internally used duet-editable-table\n     */\n    this.actions = [\n      {\n        icon: \"action-delete\",\n        color: \"color-danger\",\n        size: \"x-small\",\n        background: \"gray-lightest\",\n        name: \"delete\",\n        map: [\"success\", \"failure\"],\n        label: {\n          fi: \"Poista tiedosto\",\n          en: \"Poista tiedosto\",\n          sv: \"Ta bort filen\",\n        },\n      },\n      {\n        icon: \"navigation-close\",\n        color: \"primary\",\n        size: \"x-small\",\n        background: \"gray-lightest\",\n        name: \"cancel\",\n        map: [\"inprogress\"],\n        label: {\n          fi: \"Keskeytä lähetys\",\n          en: \"Cancel the upload\",\n          sv: \"Stop överföringen\",\n        },\n      },\n    ];\n    /**\n     * If enabled the editable-table will display links on successfully uploaded items,\n     * this requires the server can respond with link URIs in the correct format\n     * and that the files are accessible to the user\n     */\n    this.showLinks = false;\n    /**\n     * Property to change the aria upload progress text read aloud by screenreaders\n     * @default {\n     *     fi: {\n     *       inProgress: \"Lähetetään {filesUploaded} lähetettävästä {filesTotal} tiedostosta\",\n     *       inProgressWithErrors:\n     *         \"Lähetetään {filesInProgress} tiedostoa, lähetetty {filesUploaded} lähetettävästä {filesTotal} tiedostosta, {filesWithErrors} tiedostossa on virheitä\",\n     *       done: \"Kaikki {filesTotal} tiedostoa lähetetty onnistuneesti\",\n     *       doneWithErrors:\n     *         \"Lähetys valmis, {filesUploaded} tiedostoa on lähetetty onnistuneesti, {filesWithErrors} tiedostossa oli virheitä\",\n     *       files: \"tiedostot\",\n     *       file: \"tiedosto\",\n     *     },\n     *     sv: {\n     *       inProgress: \"Adding {filesUploaded} of {filesTotal}\",\n     *       inProgressWithErrors:\n     *         \"Laddar upp {filesInProgress}, {filesUploaded} uppladdad av {filesTotal}, {filesWithErrors} misslyckades\",\n     *       done: \"Alla {filesTotal} har lagts till\",\n     *       doneWithErrors: \"Handling slutförd, {filesUploaded} har lagts till, {filesWithErrors} misslyckades\",\n     *       files: \"filer\",\n     *       file: \"fil\",\n     *     },\n     *     en: {\n     *       inProgress: \"Adding {filesUploaded} of {filesTotal}\",\n     *       inProgressWithErrors:\n     *         \"Uploading {filesInProgress}, {filesUploaded} uploaded of {filesTotal}, {filesWithErrors} failed\",\n     *       done: \"All {filesTotal} added successfully\",\n     *       doneWithErrors: \"Action completed, {filesUploaded} has been added successfully, {filesWithErrors} had errors\",\n     *       files: \"tiedostoa\",\n     *       file: \"tiedosto\",\n     *     },\n     *   }\n     */\n    this.statusLabelDefaults = {\n      fi: {\n        inProgress: \"Lähetetään {filesUploaded} lähetettävästä {filesTotal} tiedostosta\",\n        inProgressWithErrors: \"Lähetetään {filesInProgress} tiedostoa, lähetetty {filesUploaded} lähetettävästä {filesTotal} tiedostosta, {filesWithErrors} tiedostossa on virheitä\",\n        done: \"Kaikki {filesTotal} tiedostoa lähetetty onnistuneesti\",\n        doneWithErrors: \"Lähetys valmis, {filesUploaded} tiedostoa on lähetetty onnistuneesti, {filesWithErrors} tiedostossa oli virheitä\",\n        files: \"tiedostot\",\n        file: \"tiedosto\",\n      },\n      sv: {\n        inProgress: \"Adding {filesUploaded} of {filesTotal}\",\n        inProgressWithErrors: \"Laddar upp {filesInProgress}, {filesUploaded} uppladdad av {filesTotal}, {filesWithErrors} misslyckades\",\n        done: \"Alla {filesTotal} har lagts till\",\n        doneWithErrors: \"Handling slutförd, {filesUploaded} har lagts till, {filesWithErrors} misslyckades\",\n        files: \"filer\",\n        file: \"fil\",\n      },\n      en: {\n        inProgress: \"Adding {filesUploaded} of {filesTotal}\",\n        inProgressWithErrors: \"Uploading {filesInProgress}, {filesUploaded} uploaded of {filesTotal}, {filesWithErrors} failed\",\n        done: \"All {filesTotal} added successfully\",\n        doneWithErrors: \"Action completed, {filesUploaded} has been added successfully, {filesWithErrors} had errors\",\n        files: \"File\",\n        file: \"file\",\n      },\n    };\n    /**\n     * Strings used for the status aria-label\n     */\n    this.statusMessageLabel = getLocaleString(this.statusLabelDefaults);\n    /**\n     * Property to change button label defaults on the component.\n     * @default {\n        fi: \"Lisää liite\",\n        sv: \"Lägg till en bilaga\",\n        en: \"Add an attachment\",\n      }\n     */\n    this.buttonLabelDefaults = {\n      fi: \"Lisää liite\",\n      sv: \"Lägg till en bilaga\",\n      en: \"Add an attachment\",\n    };\n    /**\n     * Label of button\n     * @default { fi: \"Lisää liite\", sv: \"Lägg till en bilaga\", en: \"Add an attachment\" }\n     */\n    this.buttonLabel = getLocaleString(this.buttonLabelDefaults);\n    /**\n     * accessible aria-Label of button\n     */\n    this.accessibleButtonLabel = undefined;\n    /**\n     * Theme of the input.\n     */\n    this.theme = \"\";\n    /**\n     * Makes the input component disabled. This prevents users from being able to\n     * interact with the upload component, and conveys its inactive state to assistive technologies.\n     */\n    this.disabled = false;\n    /**\n     * Controls the margin of the component.\n     */\n    this.margin = \"auto\";\n    /**\n     * Set whether the input is required or not. Please note that this is necessary for\n     * accessible inputs when the user is required to fill them. When using this property\n     * you need to also set “novalidate” attribute to your form element to prevent\n     * browser from displaying its own validation errors.\n     */\n    this.required = false;\n    /**\n     * Key used to set vertical alignment of action buttons\n     */\n    this.alignment = \"middle\";\n    /**\n     * Visually hides the groups labels in the editable table list used to display the list of files\n     */\n    this.hideGroups = false;\n    /**\n     * Map of string that contain list of uploaded files.\n     */\n    this.files = new Map();\n    /**\n     * Property to read if the internally used editable-table contains errors or not\n     */\n    this.valid = !this.required;\n    /**\n     * Property to change labelDefaults defaults on the component.\n     * normally you would handle these strings on an application level and override @label when needed\n     * @default { fi: \"Lisää liite\",sv: \"Lägg till en bilaga\",en: \"Add attachments\"}\n     */\n    this.labelDefaults = {\n      fi: \"Lisää liite\",\n      sv: \"Lägg till en bilaga\",\n      en: \"Add attachments\",\n    };\n    /**\n     * Label for the input.\n     * @default { fi: \"Lisää liite\",sv: \"Lägg till en bilaga\",en: \"Add attachments\"}\n     */\n    this.label = getLocaleString(this.labelDefaults);\n    /**\n     * Property to change descriptionDefaults defaults on the component.\n     * @default {\n        fi: \"Voit liittää {filetypes}-muotoisia tiedostoja sekä yleisimpiä videotiedostoja. Voit lähettää {maxbytes} verran tiedostoja yhdellä kertaa, ja lisätä enintään {maxfiles} liitettä kerrallaan.\",\n        sv: \"Du kan bifoga filer i flg. formater {filetypes} samt de vanligaste videofilerna. Du kan ladda upp {maxbytes} filer åt gången och lägga till upp till {maxfiles} bilagor åt gången.\",\n        en: \"You may attach the following filetypes: {filetypes} - as well as the most common video files. You can upload {maxbytes} of files at a time, and add up to {maxfiles} attachments at a time.\",\n      }\n     */\n    this.descriptionDefaults = {\n      fi: \"Voit liittää {filetypes}-muotoisia tiedostoja sekä yleisimpiä videotiedostoja. Voit lähettää {maxbytes} verran tiedostoja yhdellä kertaa, ja lisätä enintään {maxfiles} liitettä kerrallaan.\",\n      sv: \"Du kan bifoga filer i flg. formater {filetypes} samt de vanligaste videofilerna. Du kan ladda upp {maxbytes} filer åt gången och lägga till upp till {maxfiles} bilagor åt gången.\",\n      en: \"You may attach the following filetypes: {filetypes} - as well as the most common video files. You can upload {maxbytes} of files at a time, and add up to {maxfiles} attachments at a time.\",\n    };\n    /**\n     * Description for the upload component.\n     * @default {\n        fi: \"Voit liittää {filetypes}-muotoisia tiedostoja sekä yleisimpiä videotiedostoja. Voit lähettää {maxbytes} verran tiedostoja yhdellä kertaa, ja lisätä enintään {maxfiles} liitettä kerrallaan.\",\n        sv: \"Du kan bifoga filer i flg. formater {filetypes} samt de vanligaste videofilerna. Du kan ladda upp {maxbytes} filer åt gången och lägga till upp till {maxfiles} bilagor åt gången.\",\n        en: \"You may attach the following filetypes: {filetypes} - as well as the most common video files. You can upload {maxbytes} of files at a time, and add up to {maxfiles} attachments at a time.\",\n      }\n     */\n    this.description = getLocaleString(this.descriptionDefaults);\n    /**\n     * Defaults for the filelist's empty state.\n     * @default {\n        fi: \"Ei vielä lisättyjä tiedostoja.\",\n        sv: \"Inga filer har lagts till ännu.\",\n        en: \"No files added yet.\",\n       }\n     */\n    this.fileListEmptyDefaults = {\n      fi: \"Ei vielä lisättyjä tiedostoja.\",\n      sv: \"Inga filer har lagts till ännu.\",\n      en: \"No files added yet.\",\n    };\n    /**\n     * Label for the filelist's empty state.\n     * @default { fi: \"Ei vielä lisättyjä tiedostoja.\",sv: \"Inga filer har lagts till ännu.\",en: \"No files added yet.\"}\n     */\n    this.fileListEmpty = getLocaleString(this.fileListEmptyDefaults);\n    /**\n     * Display the input in error state along with an error message.\n     */\n    this.error = \"\";\n    /**\n     * Use maxBytes to specify the maximum size in Bytes of a file that can be uploaded.\n     */\n    this.maxBytes = 200000000;\n    /**\n     * Use maxBytesTotal to specify the maximum size in Bytes of All files combined that can be uploaded.\n     */\n    this.maxBytesTotal = undefined;\n    /**\n     * Use maxFiles to specify the maximum amount of files that can be uploaded\n     */\n    this.maxFiles = 99;\n    /**\n     * A string of commaseperated file type values that are allowed\n     * @example: .pdf,.doc,.docx\n     */\n    this.allowedExtensions = \"all\";\n    /**\n     * A string of commaseperated mime type values that are allowed\n     * @example: image/*,application/msword,\n     */\n    this.allowedMimetypes = \"*\";\n    /**\n     * Use multiple to allow the user to select multiple files when uploading\n     */\n    this.multiple = true;\n    /**\n     * Use limitSelection to enforce the value in allowedExtension & allowedMimetypes when selecting files,\n     * by default this is off, setting this to true will limit the users choices to what has been explicitly set\n     */\n    this.limitSelection = false;\n    /**\n     * Own Properties\n     */\n    this.buttonId = createID(\"DuetButton\");\n    this.labelId = createID(\"DuetLabel\");\n    this.uploadId = createID(\"DuetUpload\");\n    this.filesInProgress = new Map();\n    this.fileMaxReached = false;\n    this.bytesMaxReached = false;\n    this.internalStatusMessageLabel = undefined;\n    /**\n     * Properties\n     */\n    this.DefaultGroups = {\n      inprogress: \"inprogress\",\n      success: \"success\",\n      failure: \"failure\",\n    };\n    /**\n     * Array of group names that you want the editable table to use to display files\n     * @required\n     * @example [{ id: \"success\", label: {fi: \"Onnistunut\", en: \"Success\", sv: \"Alt klart\", }}]\n     */\n    this.groups = [\n      {\n        id: this.DefaultGroups.inprogress,\n        label: {\n          fi: \"Kesken olevat tiedostot\",\n          sv: \"Filer inprogress\",\n          en: \"Files inprogress\",\n        },\n      },\n      {\n        id: this.DefaultGroups.success,\n        label: {\n          fi: \"Valmiit tiedostot\",\n          sv: \"Files success\",\n          en: \"Files success\",\n        },\n      },\n      {\n        id: this.DefaultGroups.failure,\n        label: {\n          fi: \"Tiedostot, joissa on virheitä\",\n          sv: \"Filer med fel\",\n          en: \"Files with errors\",\n        },\n      },\n    ];\n    this.kick = debounce(() => {\n      this.tick = Date.now();\n    }, 30); // will trigger re-render\n    /**\n     * Private functions\n     */\n    this.listenForActionEvents = () => {\n      this.element.addEventListener(\"duetActionEvent\", (e) => {\n        const detail = e.detail;\n        const { action, id, originalEvent } = detail;\n        console.log(e);\n        switch (action) {\n          case \"delete\":\n            this.onDelete(id, originalEvent);\n            break;\n          case \"cancel\":\n            this.onCancel(id, originalEvent);\n            break;\n          // code block\n        }\n      });\n    };\n    this.verifyValidity = () => {\n      const { invalid, valid } = this.getFilesAsArray();\n      const oldValid = this.valid;\n      this.valid = invalid.length === 0 && valid.length !== 0;\n      if (this.valid !== oldValid) {\n        this.duetState.emit({\n          originalEvent: undefined,\n          data: { valid: this.valid, from: \"componentWillRender\" },\n          component: \"duet-upload\",\n        });\n      }\n    };\n    this.getGroupFromItemData = (item) => {\n      if (item.valid && item.progress === 100) {\n        // if the item has a group, move the file to that group instead\n        // of into the standard success group\n        if (item.group) {\n          return item.group;\n        }\n        return this.DefaultGroups.success;\n      }\n      else if (item.progress > 0 && item.progress !== 100) {\n        return this.DefaultGroups.inprogress;\n      }\n      else if (!item.valid) {\n        return this.DefaultGroups.failure;\n      }\n      else if (item.group) {\n        return item.group;\n      }\n      else {\n        return \"none\";\n      }\n    };\n    this.getItemHTMLFromItemData = (data, group) => {\n      if (group === this.DefaultGroups.success) {\n        return h(SuccessItem, { data: data, showLinks: this.showLinks });\n      }\n      else if (group === this.DefaultGroups.inprogress) {\n        return h(ProgressItem, { progress: data.progress, name: data.item.name });\n      }\n      else if (group === this.DefaultGroups.failure) {\n        return h(ErrorItem, { data: data });\n      }\n      else if (data.group) {\n        return data.html;\n      }\n      else {\n        return \"none\";\n      }\n    };\n    this.genHashName = () => Date.now().toString(36) + Math.random();\n    this.updateValueInMap = (item, key, value, kick = true) => {\n      const fileItem = this.files.get(item);\n      fileItem[key] = value;\n      this.files.set(item, fileItem);\n      if (kick) {\n        this.kick();\n      }\n    };\n    this.updateProgress = (ev, name) => {\n      const updateProgressHelper = percentComplete => {\n        this.updateValueInMap(name, \"progress\", percentComplete);\n        this.onProgress(name, percentComplete, ev);\n      };\n      if (ev.lengthComputable) {\n        const percentComplete = (ev.loaded / ev.total) * 100;\n        updateProgressHelper(percentComplete);\n      }\n      else {\n        console.log(\"cant read progress\");\n      }\n    };\n    this.trackProgress = (name, remove = false) => {\n      if (remove) {\n        this.filesInProgress.delete(name);\n      }\n      else {\n        this.filesInProgress.set(name, \"inprogress\");\n      }\n      if (this.filesInProgress.size === 0) {\n        this.onDone();\n      }\n    };\n    this.getFilesAsArray = () => {\n      const filesInQueue = [];\n      const filesInError = [];\n      this.files.forEach(value => {\n        if (value.valid && !value.deleted) {\n          filesInQueue.push(value);\n        }\n        else if (!value.valid && !value.deleted) {\n          filesInError.push(value);\n        }\n      });\n      return { valid: filesInQueue, invalid: filesInError };\n    };\n    this.resetFormFields = () => {\n      /**\n       * You cannot modify a FileList, nor remove single items from it\n       * This completely removes all items in the FileList\n       * We reset the form fields to always be able to re-upload files\n       * and because we handle all uploads and states internally in the component (not relying on native form elements)\n       */\n      /* TODO: it may be a good idea to just update the list so that this always matches what is in the files map,\n       * TODO: this would remove the capability of Re-uploading, unless we can catch and remove the user file from the form filelist before the upload is canceled by the browser\n       * TODO: but for now we'll just reset the form fields\n       */\n      this.nativeInput.value = \"\";\n    };\n    this.startUpload = async (ev, metaData = undefined) => {\n      this.metaData = metaData;\n      this.nativeInput.click();\n      this.onUpload(ev, metaData);\n      ev.stopPropagation();\n      ev.preventDefault();\n      return;\n    };\n    /**\n     * Eventlisteners for the XHR requests\n     */\n    this.transferComplete = name => {\n      this.updateValueInMap(name, \"progress\", 100, false);\n      this.trackProgress(name, true);\n    };\n    this.transferDone = (xhr, name, status) => {\n      this.updateValueInMap(name, \"status\", status, false);\n      this.updateValueInMap(name, \"uploaded\", true, false);\n      try {\n        const response = JSON.parse(xhr.response);\n        this.updateValueInMap(name, \"url\", response.url);\n      }\n      catch (e) {\n        this.updateValueInMap(name, \"url\", null);\n        console.error(\"Server did not respond with expected response {url: string}\");\n      }\n      return;\n    };\n    this.transferDoneWithFailure = (xhr, name, status) => {\n      try {\n        const { error } = JSON.parse(xhr.response);\n        this.updateValueInMap(name, \"error\", { message: error.message, type: error.type }, false);\n      }\n      catch (e) {\n        console.error(\"Server did not respond with expected response error:{message: string, type: int}\");\n        this.updateValueInMap(name, \"error\", { type: status }, false);\n      }\n      this.updateValueInMap(name, \"valid\", false, true);\n    };\n    this.transferFailed = name => {\n      this.updateValueInMap(name, \"error\", getError(\"duet-upload-001\"));\n    };\n    this.transferCanceled = name => {\n      this.files.delete(name);\n      this.validateTotals(name);\n      this.kick();\n    };\n    this.validateTotals = (name) => {\n      const isTotalSizeOverMaxSize = validateTotalSizeIsAboveMax(this.files, this.maxBytesTotal);\n      const isTotalFileAmountAboveMax = validateTotalAmountIsAboveMax(this.files, this.maxFiles);\n      if (isTotalSizeOverMaxSize && name) {\n        this.updateValueInMap(name, \"error\", getError(\"duet-upload-202\"), false);\n      }\n      if (isTotalFileAmountAboveMax && name) {\n        this.updateValueInMap(name, \"error\", getError(\"duet-upload-301\"), false);\n      }\n      this.bytesMaxReached = isTotalSizeOverMaxSize;\n      this.fileMaxReached = isTotalFileAmountAboveMax;\n      return {\n        bytesMaxReached: isTotalSizeOverMaxSize,\n        fileMaxReached: isTotalFileAmountAboveMax,\n      };\n    };\n    this.getItemFromUID = (uid) => {\n      for (const [key, value] of this.files.entries()) {\n        if (value.uid === uid) {\n          return { value, key };\n        }\n      }\n      return null;\n    };\n    this.onDelete = (key, ev) => {\n      const retrievedKey = this.getItemFromUID(key).key;\n      const deletedItem = this.files.get(retrievedKey);\n      this.files.delete(retrievedKey);\n      this.validateTotals();\n      this.kick();\n      this.duetDelete.emit({\n        originalEvent: ev,\n        data: { deletion: deletedItem },\n        component: \"duet-upload\",\n      });\n      if (!this.external) {\n        this.makeXHRDeleteRequest(deletedItem);\n      }\n      this.resetFormFields();\n    };\n    this.onCancel = (key, ev) => {\n      const retrievedKey = this.getItemFromUID(key).key;\n      const cancelledItem = this.files.get(retrievedKey);\n      this.files.delete(retrievedKey);\n      if (!this.external) {\n        const { xhr } = cancelledItem;\n        xhr.abort();\n      }\n      else {\n        this.kick();\n      }\n      this.resetFormFields();\n      this.duetCancel.emit({\n        originalEvent: ev,\n        data: { cancelled: cancelledItem },\n        component: \"duet-upload\",\n      });\n    };\n    this.onUpload = (ev, metaData) => {\n      this.duetUpload.emit({\n        originalEvent: ev,\n        metaData,\n        component: \"duet-upload\",\n      });\n    };\n    this.onBlur = (ev) => {\n      this.duetBlur.emit({\n        originalEvent: ev,\n        component: \"duet-upload\",\n      });\n    };\n    this.onProgress = (key, percentComplete, ev) => {\n      this.duetChange.emit({\n        originalEvent: ev,\n        data: {\n          key,\n          percentComplete,\n        },\n        component: \"duet-upload\",\n      });\n    };\n    this.onFocus = (ev) => {\n      this.duetFocus.emit({\n        originalEvent: ev,\n        component: \"duet-upload\",\n      });\n    };\n    this.onDone = () => {\n      this.duetDone.emit({\n        component: \"duet-upload\",\n        data: { files: this.files },\n      });\n    };\n    /**\n     * @description This functions return sorted map items byg condition which are:\n     */\n    this.filterMap = () => {\n      const all = [...this.files.values()];\n      const inprogress = [];\n      const failure = [];\n      const success = [];\n      all.forEach(data => {\n        const group = this.getGroupFromItemData(data);\n        const item = this.getItemHTMLFromItemData(data, group);\n        if (group === this.DefaultGroups.success) {\n          success.push({\n            uid: data.uid,\n            item,\n            group,\n          });\n        }\n        else if (group === this.DefaultGroups.inprogress) {\n          inprogress.push({\n            uid: data.uid,\n            item,\n            group,\n          });\n        }\n        else if (group === this.DefaultGroups.failure) {\n          failure.push({\n            uid: data.uid,\n            item,\n            group,\n          });\n        }\n        else if (data.group) {\n          inprogress.push({\n            uid: data.uid,\n            item,\n            group: data.group,\n          });\n        }\n      });\n      return {\n        inprogress,\n        failure,\n        success,\n      };\n    };\n    this.getColumns = (group) => {\n      return [\n        {\n          sort_order: 1,\n          direction: 1,\n          index: 0,\n          key: group.id,\n          label: group.label,\n        },\n      ];\n    };\n    this.getActions = (id) => {\n      return this.actions.filter(item => item.map.includes(id));\n    };\n    this.renderEditableTableGroups = () => {\n      const filteredItems = this.filterMap();\n      const EditableTables = this.groups.map(group => {\n        const currentItems = filteredItems[group.id];\n        if (!(currentItems === null || currentItems === void 0 ? void 0 : currentItems.length)) {\n          return;\n        }\n        return (h(\"duet-table\", { variation: \"plain\", breakpoint: \"none\", role: \"log\", margin: this.hideGroups ? \"none\" : \"auto\" }, h(\"table\", { class: \"duet-upload-editable-table\" }, h(\"thead\", { class: \"duet-upload-editable-table-header\" }, h(\"tr\", null, h(\"th\", { class: {\n            \"duet-upload-editable-table-header-hidden\": this.hideGroups,\n          } }, !this.hideGroups ? (getLocaleString(group.label)) : (h(\"duet-visually-hidden\", null, getLocaleString(group.label)))))), h(\"tbody\", null, h(\"tr\", null, h(\"td\", { class: \"duet-upload-editable-table-data\" }, h(\"duet-editable-table\", { breakpoint: \"none\", variation: \"plain\", groupId: group.id, columns: this.getColumns(group), actions: this.getActions(group.id), margin: \"none\", rows: currentItems })))))));\n      });\n      return EditableTables;\n    };\n  }\n  watchValidHandler(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      this.kick();\n    }\n  }\n  /**\n   * Component lifecycle events.\n   */\n  componentWillLoad() {\n    if (typeof this.statusMessageLabel === \"string\") {\n      this.internalStatusMessageLabel = sanitizeString(this.groups);\n    }\n    else {\n      this.internalStatusMessageLabel = this.statusMessageLabel;\n    }\n    inheritGlobalTheme(this);\n    this.listenForActionEvents();\n  }\n  componentWillRender() {\n    // listen to the events from the component\n    this.verifyValidity();\n  }\n  /**\n   * Sets focus on the specified `duet-input`. Use this method instead of the global\n   * `input.focus()`.\n   */\n  async setFocus(options) {\n    if (this.nativeInput) {\n      this.nativeInput.focus(options);\n    }\n    return;\n  }\n  /**\n   * Method for invoking the upload sequence\n   */\n  async upload(metaData = undefined) {\n    await this.setFocus();\n    this.metaData = metaData;\n    this.nativeInput.click();\n    return;\n  }\n  /**\n   * Method for forcing a render of the upload list, element.files can be changed externally\n   * But it will only rerender on a new Map or a top Level change - this can be used to update\n   * the tabular data if the automatic re-render is no sufficient\n   */\n  async refresh() {\n    this.kick();\n    await this.setFocus();\n  }\n  /**\n   * Get list of files, divided in errors and valid sections\n   */\n  async getFiles() {\n    if (!this.files || this.files.size === 0) {\n      return false;\n    }\n    return this.getFilesAsArray();\n  }\n  /**\n   * Convenience method for updating the value of a key:value inside an item in the files attribute\n   */\n  async updateValue(item, key, value) {\n    this.updateValueInMap(item, key, value);\n  }\n  /**\n   * render() function\n   * Always the last one in the class.\n   */\n  render() {\n    const identifier = this.identifier || this.uploadId;\n    let caption = this.description.replace(/{maxfiles}/g, this.maxFiles.toString());\n    caption = caption.replace(/{maxbytes}/g, `${Math.floor(this.maxBytes / 1024 / 1024)} MB`);\n    caption = caption.replace(/{filetypes}/g, this.allowedExtensions.split(\",\").join(\", \"));\n    return (h(Host, { class: { \"duet-m-0\": this.margin === \"none\" } }, h(\"duet-fieldset\", { label: this.label, caption: caption }, h(\"slot\", { name: \"header\" }), !this.files.size && (h(\"duet-label\", { part: this.identifier ? `${this.identifier}-empty-state` : \"duet-upload-empty-state\", theme: this.theme === \"turva\" ? \"turva\" : \"default\", size: \"small\", class: {\n        \"duet-upload-filelist-empty\": !this.files.size,\n        \"duet-upload-filelist\": true,\n        \"duet-upload-filelist-filled\": this.files.size,\n      }, id: this.labelId, for: identifier }, h(\"span\", { class: {\n        \"duet-upload-filelist-empty-label\": !this.files.size,\n      } }, this.fileListEmpty))), !!this.files.size && h(\"slot\", { name: \"fileheader\" }), !!this.files.size && (h(\"duet-upload-aria-status\", { invalid: this.getFilesAsArray().invalid.length, valid: this.getFilesAsArray().valid.length, inprogress: this.filesInProgress.size, total: this.files.size, statusMessageLabel: this.internalStatusMessageLabel })), !!this.files.size && this.renderEditableTableGroups(), !!this.files.size && h(\"slot\", { name: \"filefooter\" }), h(\"duet-spacer\", { size: \"large\" }), !this.hideButton && (h(\"duet-button\", { id: this.buttonId, onClick: this.startUpload, \"accessible-controls\": identifier, disabled: this.fileMaxReached, \"accessible-label\": this.accessibleButtonLabel, \"accessible-owns\": identifier, size: \"small\", variation: \"secondary\", fixed: true, icon: \"action-add-circle\", part: this.identifier ? `${this.identifier}-button-upload` : \"duet-upload-button-upload\" }, this.buttonLabel)), h(\"duet-spacer\", { size: \"medium\" }), (this.fileMaxReached || this.bytesMaxReached) && (h(\"duet-alert\", { part: this.identifier ? `${this.identifier}-error-notification` : \"duet-upload-error-notification\" }, this.fileMaxReached && getI18nError(\"duet-upload-301\"), this.bytesMaxReached && getI18nError(\"duet-upload-202\"))), h(\"duet-spacer\", { size: \"medium\" }), h(\"duet-visually-hidden\", null, h(\"input\", { ref: input => {\n        this.nativeInput = input;\n      }, accept: !this.limitSelection ? undefined : `${this.allowedMimetypes},${this.allowedExtensions}`, onBlur: this.onBlur, onFocus: this.onFocus, onChange: e => this.onChange(e), type: \"file\", class: {\n        \"duet-upload\": true,\n      }, disabled: this.disabled, \"aria-hidden\": \"true\", required: this.required, name: this.name, id: this.identifier, multiple: this.multiple, capture: \"user\" })))));\n  }\n  /**\n   * XHR request utilities\n   */\n  makeXHRPostRequest(data) {\n    const xhr = new XMLHttpRequest();\n    const name = data.get(\"name\");\n    xhr.upload.addEventListener(\"progress\", ev => {\n      this.updateProgress(ev, name);\n    });\n    xhr.upload.addEventListener(\"load\", () => {\n      this.transferComplete(name);\n    });\n    xhr.upload.addEventListener(\"error\", () => {\n      this.transferFailed(name);\n    });\n    xhr.upload.addEventListener(\"abort\", () => {\n      this.transferCanceled(name);\n    });\n    return makeXhrRequest({\n      payload: { data, name },\n      options: { type: \"POST\", uri: this.uri, xhr, argument: null, headers: null },\n      onFailure: this.transferDoneWithFailure,\n      onSuccess: this.transferDone,\n      onProgress: this.trackProgress,\n    });\n  }\n  makeXHRDeleteRequest(data) {\n    const { uid, item } = data;\n    const xhr = new XMLHttpRequest();\n    // don't present server issues to user on deletes, just remove them from the visible list\n    return makeXhrRequest({\n      payload: { data: null, name },\n      options: {\n        type: \"DELETE\",\n        xhr,\n        uri: this.uri,\n        arguments: `?key=${uid}&name=${item.name}`,\n        headers: {\n          \"x-fileuid\": uid,\n          \"x-filename\": item.name,\n        },\n      },\n      onFailure: this.transferDoneWithFailure,\n      onSuccess: this.transferDone,\n      onProgress: this.trackProgress,\n    });\n  }\n  /**\n   * Component event handling.\n   */\n  async onChange(ev) {\n    var _a;\n    const selectedFiles = Array.from((_a = this.nativeInput) === null || _a === void 0 ? void 0 : _a.files);\n    // FileList is a nice array like structure but\n    // to ensure uniqueness of files we use a mapping structure and\n    // key to the name (makes it easier to delete as well)\n    if (selectedFiles) {\n      for (const item of selectedFiles) {\n        const { valid, errorMessage, errorType, errorSystem } = validateFile(item, {\n          maxBytes: this.maxBytes,\n          allowedExtensions: this.allowedExtensions,\n          allowedMimetypes: this.allowedMimetypes,\n        });\n        const uid = this.genHashName();\n        const fileListItem = {\n          uid,\n          item: item,\n          size: item.size,\n          meta: this.metaData,\n          uploaded: false,\n          valid,\n          error: {\n            type: valid ? undefined : errorType,\n            message: valid ? undefined : errorMessage,\n            system_message: valid ? undefined : errorSystem,\n          },\n          progress: 0,\n          deleted: false,\n          xhr: false,\n          url: false,\n        };\n        this.files.set(item.name, fileListItem);\n        // validate that we haven't hit any maxfiles or maxbytes limits before we upload\n        const { bytesMaxReached, fileMaxReached } = this.validateTotals(item.name);\n        if (bytesMaxReached) {\n          // in case one of the global maxes have been reached, invalidate the file\n          this.updateValueInMap(item.name, \"valid\", false, false);\n        }\n        else if (fileMaxReached) {\n          // in case one of the global maxes have been reached, invalidate the file\n          this.updateValueInMap(item.name, \"valid\", false, false);\n        }\n        else if (valid && !this.external) {\n          // if all is well AND external file upload handling has not been set, start upload\n          const data = new FormData();\n          data.append(\"file\", item);\n          data.append(\"uid\", uid);\n          data.append(\"name\", item.name);\n          data.append(\"metadata\", JSON.stringify({ uid, url: this.uri, size: item.size, meta: fileListItem.meta }));\n          try {\n            fileListItem.xhr = await this.makeXHRPostRequest(data);\n          }\n          catch (e) {\n            // in case one of the global maxes have been reached, invalidate the file\n            this.updateValueInMap(item.name, \"valid\", false, false);\n          }\n        }\n        // kick the stat to force update\n        this.kick();\n      }\n    }\n    // reset the form, so that a user may upload a file again (with the same name)\n    this.resetFormFields();\n    // reset the internal metaData state\n    this.metaData = undefined;\n    this.duetChange.emit({\n      originalEvent: ev,\n      data: { files: this.files },\n      component: \"duet-upload\",\n    });\n  }\n  get element() { return getElement(this); }\n  static get watchers() { return {\n    \"valid\": [\"watchValidHandler\"]\n  }; }\n};\nDuetUpload.style = duetUploadCss;\n\nexport { DuetEditableTable as duet_editable_table, DuetTable as duet_table, DuetUpload as duet_upload };\n","/*!\n * Built with Duet Design System\n */\nconst isArrowLeftKey = (e) => e.keyCode === 37;\nconst isArrowUpKey = (e) => e.keyCode === 38;\nconst isArrowRightKey = (e) => e.keyCode === 39;\nconst isArrowDownKey = (e) => e.keyCode === 40;\nconst isArrowKey = (e) => isArrowDownKey(e) || isArrowRightKey(e) || isArrowUpKey(e) || isArrowLeftKey(e);\nconst isEscapeKey = (e) => e.key === \"Escape\" || e.key === \"Esc\" || e.keyCode === 27;\nconst isTabKey = (e) => e.key === \"Tab\" || e.keyCode === 9;\nconst isBackspaceKey = (e) => e.keyCode === 8;\nconst isSpaceKey = (e) => e.key === \"Space\" || e.keyCode === 32;\nconst isPlusKey = (e) => e.key === \"+\" || e.keyCode === 43;\nconst isMinusKey = (e) => e.key === \"-\" || e.keyCode === 45;\nconst isQuestionKey = (e) => e.key === \"?\";\nconst isEnterKey = (e) => e.key === \"Enter\" || e.keyCode === 13;\nconst isKeyboardClick = (e) => isEnterKey(e) || isSpaceKey(e);\nconst isNumber = (e) => (e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105);\n\nexport { isArrowRightKey as a, isArrowUpKey as b, isArrowDownKey as c, isArrowLeftKey as d, isBackspaceKey as e, isEscapeKey as f, isSpaceKey as g, isQuestionKey as h, isKeyboardClick as i, isArrowKey as j, isNumber as k, isMinusKey as l, isPlusKey as m, isEnterKey as n, isTabKey as o };\n","/*!\n * Built with Duet Design System\n */\nimport { c as convertHtmlQuotes } from './string-utils-5954f458.js';\n\nconst localeLookUpTable = {\n  fi: \"fi-FI\",\n  en: \"en-GB\",\n  us: \"en-US\",\n  sv: \"sv-SE\",\n};\nconst localeMonetarySignifierLookUpTable = {\n  fi: \"€\",\n  en: \"£\",\n  us: \"$\",\n  sv: \"€\",\n};\nconst defLanguageArray = [\"fi\", \"en\", \"sv\"];\nconst defaultLanguage = \"fi\";\nconst getCurrentLanguage = () => {\n  return document.documentElement.lang ? document.documentElement.lang.toLowerCase() : defaultLanguage;\n};\nconst isOfTypeLanguage = (keyInput) => {\n  return defLanguageArray.includes(keyInput);\n};\nconst checkForLanguage = (languageString = getCurrentLanguage()) => {\n  if (isOfTypeLanguage(languageString)) {\n    return languageString;\n  }\n  else {\n    return defaultLanguage;\n  }\n};\n/**\n * Returns the current language as a string representation (taken from html lang attribute)\n * If language is not fi|sv|en it will default to \"fi\"\n * @param {string} lang=fi - \"fi\" | \"sv\" | \"en\"\n * @default {string} \"fi\"\n */\nconst getLanguage = (languageString = getCurrentLanguage()) => checkForLanguage(languageString);\n/**\n * Returns the current language and locale\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {string} lang=\"fi\" - \"fi\" | \"sv\" | \"en\" | \"us\"\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n */\nconst getLocale = (lang) => {\n  const returnObj = {\n    locale: localeLookUpTable[lang],\n    money: localeMonetarySignifierLookUpTable[lang],\n  };\n  if (returnObj.locale && returnObj.money) {\n    return returnObj;\n  }\n  throw new Error(`Locale for \"${lang}\" not found`);\n};\n/**\n * Takes any json object that is passed and/or htmlencoded and converts it to proper json\n */\nconst sanitizeString = (string) => {\n  const argIsString = typeof string === \"string\";\n  if (argIsString) {\n    try {\n      return JSON.parse(convertHtmlQuotes(string));\n    }\n    catch (e) {\n      console.log(\"sanitizeString received a string, that didnt parse to json object\", string, e);\n    }\n  }\n  return string;\n};\n/**\n * Returns the current string / object from a given translation object\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {object} langObject - {fi: \"finnish\", sv: \"swedish\", en: \"english\"} | string will get JSON.parsed\n * @param {boolean} languageOverride = false - in case you want to override the actual language set in html tag\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n * @returns {(string|Object)} given example contains {fi:\"something\"} and language===fi this will return \"something\"\n */\nconst getLocaleString = (langObject, languageOverride) => {\n  const obj = sanitizeString(langObject);\n  if (languageOverride) {\n    return obj[checkForLanguage(languageOverride)];\n  }\n  else {\n    return obj[getLanguage()];\n  }\n};\n\nexport { getLanguage as a, getLocale as b, getLocaleString as g, sanitizeString as s };\n","/*!\n * Built with Duet Design System\n */\nfunction isObject(maybeObj) {\n  return Object.prototype.toString.call(maybeObj) === \"[object Object]\";\n}\nconst parsePossibleJSON = (maybeJSON) => {\n  if (Array.isArray(maybeJSON) || isObject(maybeJSON)) {\n    return maybeJSON;\n  }\n  if (typeof maybeJSON === \"string\") {\n    try {\n      return JSON.parse(maybeJSON);\n    }\n    catch (e) {\n      console.warn(e);\n      try {\n        return JSON.parse(convertHtmlQuotes(maybeJSON));\n      }\n      catch (e) {\n        console.warn(e);\n      }\n    }\n  }\n  // undefined is not a type in JSON,\n  // so we use it here to signal invalid input\n  return undefined;\n};\n/**\n * Format string, via simplistic sprintf equivalent\n * @example String.format('{0} is super, but {1} is best! {{0}}', 'Duet', 'Coffee'); -> \"Duet is super, but Coffee ist best! {0}\"\n *\n */\n// @ts-ignore\nif (!String.format) {\n  // @ts-ignore\n  String.format = function (format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (curlyBrack, index) {\n      return curlyBrack == \"{{\" ? \"{\" : curlyBrack == \"}}\" ? \"}\" : args[index];\n    });\n  };\n}\nconst MATCH_DISALLOWED_CHARS = /[^a-z0-9áéíóúñüöäå \\.,_-]/gim;\nfunction sanitizeString(string) {\n  return string.replace(MATCH_DISALLOWED_CHARS, \"\").trim();\n}\nconst convertHtmlQuotes = string => {\n  if (typeof string === \"string\") {\n    return string.replace(/&quot;/g, '\"').replace(/&apos;/g, '\"');\n  }\n  return string;\n};\n\nexport { convertHtmlQuotes as c, parsePossibleJSON as p, sanitizeString as s };\n"],"names":["h","r","registerInstance","c","createEvent","H","Host","g","getElement","f","fieldSorter","d","debounce","i","isKeyboardClick","getLocaleString","s","sanitizeString","inheritGlobalTheme","m","mediaQueryMedium","mediaQueryLarge","mediaQueryXLarge","j","mediaQueryXxLarge","k","mediaQueryXxxLarge","l","mediaQuerySmall","n","sizeNavigation","sizeHeader","createID","TableData","data","groupId","alignment","_children","classNames","innerHTML","class","part","style","verticalAlign","duetEditableTableCss","DuetEditableTable","constructor","hostRef","duetTableToggle","duetMenuClick","margin","variation","sticky","stickyDistance","breakpoint","actions","undefined","columns","rows","sortable","theme","accessibleRole","sortableDefaultLabel","fi","en","sv","actionColumnLabel","toggleColumn","column","e","preventDefault","sort_order","direction","index","key","emit","component","originalEvent","handleKeyDown","componentWillLoad","createLabel","label","i18nLabel","getButtonIcon","size","icon","onClick","event","onKeyDown","getSortedColumns","sort","getRowSortOrder","fields","filter","map","renderTableHeader","sortedColumns","display","scope","renderActions","rowItem","actionItem","actionMeta","Object","assign","meta","actionId","uid","id","actionName","name","iconName","iconColor","color","iconSize","background","renderTableBody","rowSortOrder","sortedRows","row","JSON","stringify","value","item","render","role","colSpan","element","duetTableCss","unwrap","str","substring","length","breakpointToToken","none","small","medium","large","stickyTopValues","parseFloat","DuetTable","matchesBreakpoint","handleMediaQueryChange","mq","matches","connectedCallback","matchMedia","addEventListener","observer","MutationObserver","copyHeadingsToCells","observe","childList","subtree","console","warn","stickyTop","headingElements","querySelectorAll","forEach","th","top","componentDidLoad","takeRecords","disconnectedCallback","disconnect","removeListener","rowElements","headings","Array","from","textContent","trim","tr","td","dataset","heading","errorCodes","type","system_message","message","getError","code","error","errorItem","getI18nError","errorCode","errorFromJson","i18String","ErrorItem","weight","ProgressItem","progress","Math","ceil","formatBytes","bytes","decimals","dm","sizes","floor","log","pow","toFixed","SuccessItem","showLinks","uploaded","url","ContentName","SizeText","fontSize","fontWeight","FilenameLine","external","Badges","badges","badgeText","validateFileExtension","allowedExtensions","ext","split","validExtension","extension","includes","validateFileMime","allowedMimetypes","validMimeTypes","valid","mimeType","allowedTypes","fileType","validateFileSize","maxBytes","validateFile","validators","errorMessage","mime","toLowerCase","errorSystem","errorType","validateTotalSizeIsAboveMax","filelist","maxTotalBytes","total","validateTotalAmountIsAboveMax","maxFiles","makeXhrRequest","payload","options","onFailure","onSuccess","onProgress","xhr","uri","argument","headers","open","keys","setRequestHeader","onreadystatechange","readyState","XMLHttpRequest","DONE","status","send","duetUploadCss","DuetUpload","duetChange","duetBlur","duetFocus","duetDone","duetState","duetDelete","duetCancel","duetProgress","duetUpload","tick","Date","now","hideButton","statusLabelDefaults","inProgress","inProgressWithErrors","done","doneWithErrors","files","file","statusMessageLabel","buttonLabelDefaults","buttonLabel","accessibleButtonLabel","disabled","required","hideGroups","Map","labelDefaults","descriptionDefaults","description","fileListEmptyDefaults","fileListEmpty","maxBytesTotal","multiple","limitSelection","buttonId","labelId","uploadId","filesInProgress","fileMaxReached","bytesMaxReached","internalStatusMessageLabel","DefaultGroups","inprogress","success","failure","groups","kick","listenForActionEvents","detail","action","onDelete","onCancel","verifyValidity","invalid","getFilesAsArray","oldValid","getGroupFromItemData","group","getItemHTMLFromItemData","html","genHashName","toString","random","updateValueInMap","fileItem","get","set","updateProgress","ev","updateProgressHelper","percentComplete","lengthComputable","loaded","trackProgress","remove","delete","onDone","filesInQueue","filesInError","deleted","push","resetFormFields","nativeInput","startUpload","metaData","click","onUpload","stopPropagation","transferComplete","transferDone","response","parse","transferDoneWithFailure","transferFailed","transferCanceled","validateTotals","isTotalSizeOverMaxSize","isTotalFileAmountAboveMax","getItemFromUID","entries","retrievedKey","deletedItem","deletion","makeXHRDeleteRequest","cancelledItem","abort","cancelled","onBlur","onFocus","filterMap","all","values","getColumns","getActions","renderEditableTableGroups","filteredItems","EditableTables","currentItems","watchValidHandler","newValue","oldValue","componentWillRender","setFocus","focus","upload","refresh","getFiles","updateValue","identifier","caption","replace","join","for","fixed","ref","input","accept","onChange","capture","makeXHRPostRequest","arguments","_a","selectedFiles","fileListItem","FormData","append","watchers","duet_editable_table","duet_table","duet_upload"],"sourceRoot":"webpack:///"}