"use strict";(self.webpackChunkduet_angular_template=self.webpackChunkduet_angular_template||[]).push([[299],{5299:(x,d,r)=>{r.r(d),r.d(d,{duet_pagination:()=>g,duet_range_stepper:()=>m});var l=r(5861),i=r(3671),u=r(6065),c=r(7226),n=r(8369),h=r(3838),p=r(290);r(3995);const g=class{constructor(t){var e=this;(0,i.r)(this,t),this.duetPageChange=(0,i.c)(this,"duetPageChange",3),this.listId=(0,u.c)("duet-pagination-list"),this.numbersStore="",this.totalPages=10,this.internalSectionIndex=0,this.theme="",this.jumpString="...",this.variation="default",this.accessibleLabelsDefaults={en:{next_page:"Next page",previous_page:"Previous page",first_page:"First page",last_page:"Last page",jump_to:"Jump to page",go_to:"Go to page",description:"You may use arrow keys to select page number, or enter a page number when this element is in focus to jump to a page",pagination_label:"Pagination, choose a number to jump to a page",prev_section:"Show previous {0} page numbers, screen reader user should use arrowkeys to navigate",next_section:"Show next {0} page numbers, screen reader user should use arrowkeys to navigate"},fi:{next_page:"Seuraava sivu",previous_page:"Edellinen sivu",first_page:"Ensimm\xe4inen sivu",last_page:"Viimeinen sivu",jump_to:"Siirry sivulle",go_to:"Siirry sivulle",description:"Voit k\xe4ytt\xe4\xe4 nuolin\xe4pp\xe4imi\xe4 sivunumeron valitsemiseen, tai kirjoittaa sivunumeron, jos t\xe4m\xe4 elementti on aktiivinen, siirtym\xe4\xe4n sivulle",pagination_label:"Sivutus, valitse sivunumero siirty\xe4ksesi sivulle",prev_section:"N\xe4yt\xe4 edelliset {0} sivunumerot, k\xe4ytt\xe4j\xe4n pit\xe4\xe4 k\xe4ytt\xe4\xe4 nuolin\xe4pp\xe4imi\xe4 navigoidaksesi",next_section:"N\xe4yt\xe4 seuraavat {0} sivunumerot, k\xe4ytt\xe4j\xe4n pit\xe4\xe4 k\xe4ytt\xe4\xe4 nuolin\xe4pp\xe4imi\xe4 navigoidaksesi"},sv:{next_page:"N\xe4sta sida",previous_page:"F\xf6reg\xe5ende sida",first_page:"F\xf6rsta sidan",last_page:"Sista sidan",jump_to:"Hoppa till sida",go_to:"Hoppa till sida",description:"Du kan anv\xe4nda piltangenterna f\xf6r att v\xe4lja sida, eller skriva in sida n\xe4r elementet \xe4r i fokus f\xf6r att hoppa till en sida",pagination_label:"Sidutning, v\xe4lj en siffra f\xf6r att hoppa till en sida",prev_section:"Visa f\xf6reg\xe5ende {0} sidnummer, skrivbordsl\xe4sare ska anv\xe4nda piltangenterna f\xf6r att navigera",next_section:"Visa n\xe4sta {0} sidnummer, skrivbordsl\xe4sare ska anv\xe4nda piltangenterna f\xf6r att navigera"}},this.accessibleLabels=(0,h.g)(this.accessibleLabelsDefaults),this.take=5,this.visibleItems=5,this.total=1e3,this.ariaControls="",this.current=1,this.actionChain=function(){var a=(0,l.Z)(function*(s,o){if(0===s)e.current=1;else if(o!==s){const b=Math.ceil(s/e.visibleItems)-1;b!==e.internalSectionIndex&&(e.internalSectionIndex=b,yield e.setFocus())}});return function(s,o){return a.apply(this,arguments)}}(),this.emitPageEvent=(0,c.d)((a,s)=>{const o=Number(s||this.current);this.duetPageChange.emit({component:"duet-pagination",from:o*this.take,to:o*this.take+this.take,current:o,take:this.take,type:"page",originalEvent:a})},500),this.getEnteredNumber=(0,c.d)(a=>{this.emitPageEvent(a,this.numbersStore),this.current=Number(this.numbersStore),this.numbersStore="",this.duetPageChange.emit({component:"duet-pagination",from:this.current*this.take,to:this.current*this.take+this.take,current:this.current,take:this.take,type:"jump",originalEvent:a})},500)}watchStateHandler(t,e){this.actionChain(t,e)}componentWillLoad(){this.internalSectionIndex=Math.ceil(this.current/this.visibleItems)-1,this.calculatePageTake(),(0,p.i)(this)}componentWillRender(){0!==this.internalSectionIndex&&this.internalSectionIndex!==this.totalPages&&this.calculatePageTake()}componentDidRender(){this.setFocus()}calculatePageTake(){this.totalPages=Math.ceil(this.total/this.take)}onMouseHandler(t,e){var a=this;return(0,l.Z)(function*(){t.preventDefault(),t.stopPropagation(),a.current=a.current+e})()}onKeyboardDown(t){var e=this;return(0,l.Z)(function*(){let a=e.current;((0,n.d)(t)||(0,n.b)(t))&&a--,((0,n.a)(t)||(0,n.c)(t))&&a++,(0,n.j)(t)&&a<=e.totalPages&&(e.current=a,e.emitPageEvent(t)),(0,n.k)(t)&&e.shouldDisplayNavigation()&&(e.numbersStore=e.numbersStore+t.key,Number(e.numbersStore)>e.totalPages&&(e.numbersStore=e.totalPages+""),e.getEnteredNumber(t))})()}setFocus(){var t=this;return(0,l.Z)(function*(){const e=t.nativeNav.querySelector("li.duet-pagination-item-is-active duet-button");e&&(yield e.setFocus())})()}pageClickHandler(t){t.preventDefault();const e=Number(t.target.getAttribute("data-id"));this.current=e,this.emitPageEvent({},e)}sectionClickHandler(t,e){t.preventDefault();let a=this.internalSectionIndex+e;a>=this.totalPages/this.take&&(a=this.totalPages/this.take-1),this.internalSectionIndex=a>=0?a:0}jumpToStart(t){t.preventDefault(),this.internalSectionIndex=0,this.current=1}jumpToEnd(t){t.preventDefault(),this.internalSectionIndex=this.totalPages/this.take-1,this.current=this.totalPages}renderPageNumbers(){const t=[];let e=this.internalSectionIndex*this.visibleItems;do{if(e++,e>this.totalPages)break;t.push((0,i.h)("li",{class:{"duet-pagination-item":!0,"duet-pagination-item-is-active":e===this.current},role:"menuitem"},(0,i.h)("duet-button",{class:{"duet-pagination-link":!0},color:e!==this.current?"secondary":"primary","data-id":e,"center-text":!0,variation:"plain",margin:"none",accessibleLabel:`${this.accessibleLabels.go_to} ${e}`,onClick:a=>this.pageClickHandler(a)},(0,i.h)("div",{class:"duet-pagination-page-number","aria-hidden":!0},e))))}while(e<this.visibleItems+this.internalSectionIndex*this.visibleItems);return t}shouldDisplayNavigation(){return"compact"!==this.variation&&!(2*this.visibleItems>this.total/this.take)}render(){return(0,i.h)(i.H,{onKeyDown:t=>this.onKeyboardDown(t)},(0,i.h)("nav",{role:"navigation","aria-labelledby":this.listId,"aria-describedby":this.listId,ref:t=>this.nativeNav=t,"aria-controls":this.ariaControls,class:{"duet-pagination-nav":!0,[`duet-pagination-variation-${this.variation}`]:!0}},""!==this.numbersStore&&(0,i.h)("div",{"aria-live":"assertive","aria-relevant":"text",class:"duet-pagination-overlay","aria-label":`${this.accessibleLabels.jump_to} ${this.numbersStore}`,part:"navigation-overlay"},(0,i.h)("duet-badge",null,"jump to page : ",this.numbersStore)),(0,i.h)("ol",{id:this.listId,class:{"duet-pagination":!0,"duet-pagination-is-dimmed":""!==this.numbersStore},role:"menubar","aria-label":this.accessibleLabels.pagination_label,"aria-description":this.accessibleLabels.description},(0,i.h)("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-first":!0},role:"menuitem",part:"navigation-arrow"},(0,i.h)("duet-action-button",{disabled:0===this.internalSectionIndex&&this.current<=1,"data-direction":"back",onClick:t=>this.onMouseHandler(t,-1),"aria-label":this.accessibleLabels.previous_page,"icon-name":"action-arrow-left-small"})),0!==this.internalSectionIndex&&this.shouldDisplayNavigation()&&(0,i.h)(i.F,null,(0,i.h)("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},(0,i.h)("duet-button",{class:"duet-pagination-link","center-text":"true",variation:"plain",color:"secondary",margin:"none",accessibleLabel:this.accessibleLabels.first_page,onClick:t=>this.jumpToStart(t)},(0,i.h)("div",{class:"duet-pagination-page-number"},"1"))),(0,i.h)("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},(0,i.h)("duet-button",{class:"duet-pagination-link","center-text":"true",color:"secondary",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.prev_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,-1)},(0,i.h)("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"...")))),this.renderPageNumbers(),this.internalSectionIndex!==this.totalPages/this.visibleItems-1&&this.shouldDisplayNavigation()&&(0,i.h)(i.F,null,(0,i.h)("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},(0,i.h)("duet-button",{class:"duet-pagination-link","center-text":"true",color:"secondary",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.next_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,1)},(0,i.h)("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"..."))),(0,i.h)("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},(0,i.h)("duet-button",{class:"duet-pagination-link","center-text":"true",color:"secondary",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.last_page,onClick:t=>this.jumpToEnd(t)},(0,i.h)("div",{class:"duet-pagination-page-number"},this.totalPages)))),(0,i.h)("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-last":!0},role:"menuitem",part:"navigation-arrow"},(0,i.h)("duet-action-button",{disabled:this.current===this.totalPages&&this.internalSectionIndex===Math.ceil(this.totalPages/this.visibleItems)-1,class:"duet-date-dialog-next","aria-label":this.accessibleLabels.next_page,onClick:t=>this.onMouseHandler(t,1),"icon-name":"action-arrow-right-small"})))))}get element(){return(0,i.g)(this)}static get watchers(){return{current:["watchStateHandler"]}}};g.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-pagination-nav{position:relative}.duet-pagination ::part(button){border:0}.duet-pagination,.duet-pagination li{display:flex;flex-wrap:wrap;gap:0.1rem;align-items:center}.duet-pagination-item-is-active .duet-pagination-page-number{border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:2px}.duet-pagination duet-button{width:30px;min-width:36px;font-weight:600;text-decoration:none;border-left-width:0}.duet-pagination-overlay{position:absolute;top:1rem;z-index:300;width:100%;text-align:center}.duet-pagination.duet-pagination-is-dimmed{opacity:0.5}";const m=class{constructor(t){(0,i.r)(this,t),this.duetRangeStepUpdate=(0,i.c)(this,"duetRangeStepUpdate",7),this.leftBn=(0,u.c)("duetRangeStepper-left"),this.rightBn=(0,u.c)("duetRangeStepper-right"),this.theme="",this.stepIndex=1,this.stepSize=50,this.total=1e3,this.ariaLabelsDefaults={en:{next_increment:"Next range increment",previous_increment:"Previous range increment",x_of_y:"{0}\u2013{1} of {2}"},fi:{next_increment:"Seuraava v\xe4lill\xe4",previous_increment:"Edellinen v\xe4lill\xe4",x_of_y:"{0}\u2013{1} / {2}"},sv:{next_increment:"N\xe4sta intervall",previous_increment:"F\xf6reg\xe5ende intervall",x_of_y:"{0}\u2013{1} av {2}"}},this.ariaLabels=(0,h.g)(this.ariaLabelsDefaults),this.ariaControls="",this.handleClick=(e,a)=>{e.preventDefault(),this.increment(a),this.handleStepClick(e)}}watchStateHandler(t){1===t?(this.leftBnRef.setAttribute("disabled",""),this.rightBnRef.focus()):this.leftBnRef.removeAttribute("disabled"),t===this.total/this.stepSize?(this.rightBnRef.setAttribute("disabled",""),this.leftBnRef.focus()):this.rightBnRef.removeAttribute("disabled")}handleStepClick(t){this.duetRangeStepUpdate.emit({originalEvent:t,component:"duet-range-stepper",from:this.stepIndex*this.stepSize-this.stepSize,to:this.stepIndex*this.stepSize,index:this.stepIndex})}componentWillLoad(){(0,p.i)(this)}componentDidLoad(){this.watchStateHandler(this.stepIndex)}increment(t){const e=this.stepIndex+t;e<=0?this.stepIndex=1:e*this.stepSize<=this.total&&(this.stepIndex=e)}generateStepSize(){let t=(this.stepIndex-1)*this.stepSize;0===t&&(t=1);const e=this.stepIndex*this.stepSize;return this.ariaLabels.x_of_y.replace("{0}",String(t)).replace("{1}",String(e)).replace("{2}",String(this.total))}onKeyboardDown(t){var e=this;return(0,l.Z)(function*(){let a=e.stepIndex,s=1;((0,n.d)(t)||(0,n.b)(t)||(0,n.l)(t))&&(a--,s=-1,e.leftBnRef.focus()),((0,n.a)(t)||(0,n.c)(t)||(0,n.m)(t))&&(a++,s=1),(0,n.j)(t)&&a>0&&a*e.stepSize<=e.total&&e.handleClick(t,s)})()}render(){return(0,i.h)("div",{class:{"duet-range-stepper":!0,"duet-theme-turva":"turva"===this.theme},onKeyDown:t=>this.onKeyboardDown(t),"aria-controls":this.ariaControls},(0,i.h)("span",{class:"duet-range-step-counter",part:"range-numbers"},this.generateStepSize()),(0,i.h)("duet-action-button",{class:"duet-range-step-button duet-range-step-minus",onClick:t=>this.handleClick(t,-1),id:this.leftBn,"aria-label":this.ariaLabels.previous_increment,ref:t=>this.leftBnRef=t,part:"navigation-arrow",iconName:"action-arrow-left-small"}),(0,i.h)("duet-action-button",{class:"duet-range-step-button duet-range-step-plus",onClick:t=>this.handleClick(t,1),"aria-label":this.ariaLabels.next_increment,id:this.rightBn,ref:t=>this.rightBnRef=t,part:"navigation-arrow",iconName:"action-arrow-right-small"}))}get element(){return(0,i.g)(this)}static get watchers(){return{stepIndex:["watchStateHandler"]}}};m.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-range-stepper{display:flex;flex-wrap:wrap;gap:0;align-items:baseline;justify-content:center;min-width:30px;min-height:30px;font-weight:600;text-decoration:none;border-left-width:0}.duet-range-stepper{white-space:nowrap}.duet-range-stepper .duet-range-step-counter{font-weight:600;color:#00294d}.duet-range-stepper ::part(button){border:0}"}}]);