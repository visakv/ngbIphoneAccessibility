{"version":3,"file":"node_modules_duetds_components_lib_esm_duet-combobox_entry_js.js","mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ,cAAc,6CAA6C;AAC9E,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB,aAAa,iBAAiB,wBAAwB,gBAAgB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEuF;;;;;;;;;;;;;;;;;AC3FvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,GAAG,eAAe,GAAG,WAAW,GAAG,sBAAsB,yCAAyC,EAAE;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,EAAE,GAAG,EAAE,GAAG,OAAO;AAC9C,8BAA8B,MAAM,qBAAqB,MAAM;AAC/D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,wBAAwB;AACzD;AACA;AACA;;AAE+E;;;;;;;;;;;;;;;ACtD/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEmC","sources":["./node_modules/@duetds/components/lib/esm/duet-combobox.entry.js","./node_modules/@duetds/components/lib/esm/keyboard-utils-88ea1007.js","./node_modules/@duetds/components/lib/esm/language-utils-bf701d37.js","./node_modules/@duetds/components/lib/esm/string-utils-5954f458.js","./node_modules/@duetds/components/lib/esm/themeable-component-e8fc98bf.js"],"sourcesContent":["/*!\n * Built with Duet Design System\n */\nimport { h, F as Fragment, r as registerInstance, c as createEvent, H as Host, g as getElement } from './index-54e0bce3.js';\nimport { d as debounce } from './js-utils-52e0944c.js';\nimport { n as isEnterKey, f as isEscapeKey, o as isTabKey, b as isArrowUpKey, c as isArrowDownKey } from './keyboard-utils-88ea1007.js';\nimport { g as getLocaleString, a as getLanguage } from './language-utils-bf701d37.js';\nimport { p as parsePossibleJSON } from './string-utils-5954f458.js';\nimport { i as inheritGlobalTheme } from './themeable-component-e8fc98bf.js';\n\nconst SelectSingle = ({ item, search = \"\", selected }) => {\n  const regEx = search !== \"\" ? new RegExp(\"(\" + search.split(\" \").join(\"|\") + \")\", \"gi\") : undefined;\n  return (h(Fragment, null,\n    selected && h(\"duet-icon\", { class: \"option-icon\", name: \"messaging-checked\", size: \"xx-small\", margin: \"none\" }),\n    regEx ? (h(\"span\", { class: \"option-container\", \"aria-hidden\": \"true\" },\n      h(\"span\", { innerHTML: item.name.replace(regEx, '<span class=\"highlight\">$&</span>') }))) : (item.name),\n    item.tags && h(\"span\", { class: \"option-tags\" }, item.tags.join(\", \"))));\n};\n\nconst DuetComboBoxSelect = ({ item, active, total, selected, label = undefined, clickHandler = e => {\n  e.preventDefault();\n}, keyHandler = e => {\n  e.preventDefault();\n}, search, }) => {\n  return (h(\"li\", { class: {\n      \"list-item\": true,\n      option: true,\n      active: active,\n      selected: selected,\n    }, id: active ? \"active_item\" : \"\", \"data-index\": item.id, \"aria-selected\": active ? \"true\" : undefined, \"aria-current\": selected ? \"true\" : undefined, role: \"option\", \"aria-label\": label || `${item.name}, (${item.id + 1} of ${total})` },\n    h(\"a\", { tabindex: \"-1\", onClick: e => clickHandler(e), onKeyUp: e => keyHandler(e), class: \"option-link\", \"aria-label\": label || `${item.name}, (${item.id + 1} of ${total})`, \"aria-hidden\": \"true\" },\n      h(SelectSingle, { item: item, search: search, selected: selected }))));\n};\n\nconst duetComboboxCss = \".sc-duet-combobox-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;width:auto;font-family:\\\"localtapiola-sans\\\", -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\";color:#00294d}.duet-combobox-list.sc-duet-combobox{position:absolute;top:calc(100% - 12px);display:none;overflow:hidden;background:white;border-radius:0 4px;box-shadow:0 2px 10px 0 rgba(0, 41, 77, 0.1)}.duet-combobox-list.open.sc-duet-combobox{z-index:700;display:block}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox{max-height:200px;padding:0.75rem 0;margin:0;overflow-y:scroll;font-weight:600;list-style:none;cursor:pointer;scroll-behavior:smooth}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox{padding:4px 0}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:not(.selected){padding-left:16px}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:not(.selected) .highlight.sc-duet-combobox{text-decoration:underline}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.option.sc-duet-combobox .option-link.sc-duet-combobox{display:block;width:100%}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.option.sc-duet-combobox .option-tags.sc-duet-combobox{float:right;padding-right:0.875rem;font-weight:400;color:#909599}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.option-link.sc-duet-combobox{display:block;width:100%}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.selected.sc-duet-combobox{padding-left:0;background:#cde5f1}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.selected.option.sc-duet-combobox .option-icon.sc-duet-combobox{padding:0 8px 0 8px}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.selected.option.sc-duet-combobox .option-tags.sc-duet-combobox{color:#909599}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.active.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus,.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover{color:white;background:#0077b3}.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.active.sc-duet-combobox .option-tags.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus .option-tags.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover .option-tags.sc-duet-combobox{color:#e1e3e6}\";\n\nconst DuetCombobox = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.duetChange = createEvent(this, \"duetChange\", 3);\n    // Safari doesnt properly support aria-activedecendatn, the code associated with this bool is a workaround for that,\n    // this should be removed when Safari fixes the issue\n    // see: https://a11ysupport.io/tests/apg__aria-1-2-combobox-with-list-autocomplete-example#assertion-aria-aria-activedescendant_attribute-convey_value-aria-combobox_role-vo_macos-safari\n    this.isSafari = false;\n    this.resizeObserver = new ResizeObserver(debounce(entries => {\n      var _a, _b;\n      // otherwise, something is wrong, expecting 1 element only\n      if ((entries === null || entries === void 0 ? void 0 : entries.length) === 1) {\n        const currentWidth = (_b = (_a = entries[0]) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect().width;\n        this.listContainer.style.width = `${currentWidth + 1}px`;\n        // this.listElement.style.width = `${currentWidth + 1}px`\n      }\n    }, 100));\n    this.processedItems = null;\n    this.inputWidth = 0;\n    this.inputValue = \"\";\n    this.selectionMsg = \"\";\n    this.listOpen = false;\n    // the selected item is based upon the DuetComboboxItem.id value\n    this.selectedItems = new Set();\n    // the activeItem number is based upon the array.index of the array stored in processedItems\n    this.activeItem = undefined;\n    /**\n     * Placeholder defaults\n     * @default { fi: \"pp.kk.vvvv\", en: \"dd.mm.yyyy\", sv: \"dd.mm.åååå\" }\n     */\n    this.accessibleLabelDefaults = {\n      en: {\n        heading: \"Select:\",\n        item: \"{name}, ({current} of {total})\",\n        itemFiltered: \"{name}, ({current} of {total}, {hiddenItems} filtered)\",\n      },\n      fi: {\n        heading: \"Valitse:\",\n        item: \"{name}, ({current}/{total})\",\n        itemFiltered: \"{name}, ({current}/{total}, {hiddenItems} suodatettu)\",\n      },\n      sv: {\n        heading: \"Välj:\",\n        item: \"{name}, ({current} av {total})\",\n        itemFiltered: \"{name}, ({current} av {total}, {hiddenItems} filtrerade)\",\n      },\n    };\n    /**\n     * Hint text to display before the user types into the date picker input.\n     * @default   {\n     * heading: \"Valitse:\",\n     * item: \"{0}, ({1}/{2})\",\n     * itemFiltered: \"{0}, ({1}/{2} - {3} suodatettu\"\n     * }\n     */\n    this.accessibleLabels = getLocaleString(parsePossibleJSON(this.accessibleLabelDefaults), getLanguage());\n    /**\n     * Theme of the combobox.\n     */\n    this.theme = \"\";\n    /**\n     * Force the user to make a selection (typing things in the input field will only be used for list search)\n     */\n    this.force = false;\n    /**\n     * A hook to overwrite how the values are displayed in the input field after a User select an item\n     * @example (item) => `${item.name} (${item.value})`\n     * @default undefined\n     */\n    this.formatter = (item) => item && item.name ? item.name : \"\";\n  }\n  activeItemHandler(state) {\n    this.input.accessibleActiveDescendant = this.listOpen && (state || state === 0) ? `active_item` : \"\";\n  }\n  handleDocumentClick(e) {\n    //we want to remove all user text if they have NOT selected from the dropdown\n    const path = e.composedPath();\n    const isClickOutside = path.every(el => el !== this.element);\n    if (isClickOutside) {\n      this.updateInputText(true);\n      this.listOpen = false;\n    }\n  }\n  /**\n   * Exposes a formatter function to format the item value displayed after a user selects an item\n   * @param item: DuetComboboxItem\n   */\n  async formatItem(item) {\n    return this.formatter(item);\n  }\n  /**\n   * Component lifecycle events.\n   */\n  componentWillLoad() {\n    inheritGlobalTheme(this);\n  }\n  connectedCallback() {\n    if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      this.isSafari = true;\n    }\n    this.items = this.processedItems = parsePossibleJSON(this.items);\n    this.input = this.element.querySelector(\"duet-input\");\n    this.input.addEventListener(\"duetChange\", this.updateInputValue.bind(this));\n    this.input.addEventListener(\"click\", () => {\n      this.inputValue.length ? (this.listOpen = true) : (this.listOpen = false);\n    });\n    this.element.addEventListener(\"keydown\", this.handleInputKeyDownEvent.bind(this));\n    //add correct aria attributes to the input element\n    this.input.accessibleAutocomplete = \"list\";\n    this.input.accessibleControls = \"duet-combobox-list-element\";\n  }\n  disconnectedCallback() {\n    this.input.removeEventListener(\"duetChange\", this.updateInputValue.bind(this));\n    this.input.removeEventListener(\"click\", () => this.inputValue.length ? (this.listOpen = true) : (this.listOpen = false));\n    this.element.removeEventListener(\"keydown\", this.handleInputKeyDownEvent.bind(this));\n    this.listElement.removeEventListener(\"click\", e => {\n      e.stopPropagation();\n    });\n    this.resizeObserver.disconnect();\n  }\n  componentDidLoad() {\n    // observe resize events to dynamically adjust size of dropdown area\n    this.resizeObserver.observe(this.input);\n    this.listElement.addEventListener(\"click\", e => {\n      e.stopPropagation();\n    });\n  }\n  /**\n   * Updates the input text based on the selected/clicked items.\n   * @param event - event\n   *'param item: DuetComboboxItem - the item that was selected\n   */\n  onListClick(e, item) {\n    e.preventDefault();\n    // update selected item with id\n    this.updateSelectedItems(item.id);\n    this.listOpen = false;\n    return this.listOpen;\n  }\n  /**\n   * Helper function that checks inputs in the field, compares it with the item list and returns true when inputvalue matches selectedItem id\n   * TODO: this should be disabled in multiple mode\n   */\n  shouldListBeFiltered() {\n    if (this.selectedItems.size && this.input.value === this.inputValue) {\n      const item = this.items.filter(item => this.selectedItems.has(item.id));\n      return !(this.formatter(item).toLowerCase() === this.input.value.toLowerCase());\n    }\n    return true;\n  }\n  /**\n   * Helper function that return correct collection depending on filter status returend by shouldListBeFiltered\n   */\n  returnFilteredOrNonFiltered() {\n    return this.processedItems\n      ? this.shouldListBeFiltered()\n        ? this.getFilteredItems()\n        : this.sortFilteredItems(this.processedItems)\n      : [];\n  }\n  /**\n   * Updates the selected items based on the item id.\n   * @param id\n   * @private\n   */\n  async updateSelectedItems(id) {\n    // for a multiple scenario wrap this in an if/else and just don't clear here\n    this.selectedItems.clear();\n    if (this.selectedItems) {\n      if (this.selectedItems.has(id)) {\n        this.selectedItems.delete(id);\n      }\n      else {\n        this.selectedItems.add(id);\n      }\n    }\n    await this.updateInputText();\n  }\n  /**\n   * Updates the input text based on the selected/clicked items.\n   * @param bool -override to clear if invoked by \"click outside\"\n   */\n  async updateInputText(isBlurred = false) {\n    const item = this.selectedItems.size === 0 ? [] : this.items.filter(item => this.selectedItems.has(item.id));\n    if (this.selectedItems.size === 1) {\n      this.input.value = \"\"; // set value to empty so that cursor position follows accordingly\n      this.input.value = await this.formatItem(item[0]);\n      this.input.scrollLeft = this.input.scrollWidth;\n      this.activeItem = undefined;\n      this.value = await this.formatItem(item[0]);\n      this.duetChange.emit({\n        value: item[0].value,\n        item: item[0],\n        component: \"duet-combobox\",\n      });\n    }\n    else if (isBlurred && this.selectedItems.size === 0) {\n      //if nothing is selected and a user clicks outside, we want the input field to clearly illustrate that nothing was selected\n      if (this.force) {\n        this.inputValue = \"\";\n        this.input.value = \"\";\n      }\n      this.activeItem = undefined;\n    }\n    this.listOpen = false;\n  }\n  updateInputValue(e) {\n    var _a;\n    this.inputValue = e.detail.value;\n    this.listOpen = String(this.inputValue).length > 0 && ((_a = this.getFilteredItems()) === null || _a === void 0 ? void 0 : _a.length) > 0;\n  }\n  handleInputKeyDownEvent(e) {\n    //if selection is made, close the list and update internal and external values\n    // this should be set to undefined on everything BUT up/down arrow according to the aria 1.1 specs\n    // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox\n    this.input.accessibleActiveDescendant = undefined;\n    if (isEnterKey(e)) {\n      e.preventDefault();\n      this.selectActiveItem();\n      this.listOpen = false;\n      return;\n    }\n    //tabbing out or escaping, restore initial state\n    if (isEscapeKey(e) || isTabKey(e)) {\n      this.updateInputText(true);\n      this.listOpen = false;\n      return;\n    }\n    //handle arrow up/down navigation\n    let nextActiveItem = this.activeItem;\n    if (isArrowUpKey(e)) {\n      e.preventDefault();\n      nextActiveItem = this.activeItem - 1;\n    }\n    else if (isArrowDownKey(e)) {\n      e.preventDefault();\n      nextActiveItem = this.listOpen ? this.activeItem + 1 : this.activeItem;\n      this.listOpen = true;\n    }\n    if (isArrowDownKey(e) || isArrowUpKey(e)) {\n      const listItems = this.shouldListBeFiltered() ? this.getFilteredItems() : this.processedItems;\n      if (nextActiveItem < 0 || !nextActiveItem) {\n        nextActiveItem = 0;\n      }\n      if (nextActiveItem >= listItems.length) {\n        nextActiveItem = listItems.length - 1;\n      }\n      // this should be set to undefined on everything BUT up/down arrow according to the aria 1.1 specs\n      // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox\n      this.input.accessibleActiveDescendant = \"active_item\";\n      this.activeItem = nextActiveItem;\n      this.scrollToActive();\n    }\n    this.announceActive();\n    return;\n  }\n  selectActiveItem() {\n    if (this.activeItem === undefined) {\n      return;\n    }\n    const filteredItem = this.returnFilteredOrNonFiltered();\n    const item = filteredItem[this.activeItem];\n    this.updateSelectedItems(item.id);\n  }\n  announceActive(items) {\n    if (!items) {\n      items = this.returnFilteredOrNonFiltered();\n    }\n    if (this.activeItem === undefined || this.activeItem === -1) {\n      return;\n    }\n    const item = items[this.activeItem];\n    this.selectionMsg = this.formatLabel(item, items.length, this.items.length);\n  }\n  //function that scrolls to the li element with the class \"active\"\n  scrollToActive() {\n    const activeElement = this.listElement.querySelector(\".active\");\n    if (activeElement) {\n      activeElement.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\",\n      });\n    }\n  }\n  formatLabel(item, length, itemsLength) {\n    if (!item || itemsLength === undefined) {\n      return \"\";\n    }\n    const labelString = length === itemsLength ? this.accessibleLabels.item : this.accessibleLabels.itemFiltered;\n    return labelString\n      .replace(\"{name}\", String(item.name))\n      .replace(\"{current}\", String(this.activeItem + 1))\n      .replace(\"{total}\", String(length))\n      .replace(\"{hiddenItems}\", String(itemsLength - length));\n  }\n  /**\n   * Filter the items based on the input value\n   */\n  getFilteredItems() {\n    // filter items based on user inputs\n    const filteredItems = this.processedItems.filter(item => \n    // filter by name and value\n    // if value contains inputvalue\n    String(item.value).toLowerCase().includes(this.inputValue.toLowerCase()) ||\n      // if name contains input value\n      String(item.name).toLowerCase().includes(this.inputValue.toLowerCase()) ||\n      // if the item is selected\n      this.selectedItems.has(item.id));\n    return this.sortFilteredItems(filteredItems);\n  }\n  /**\n   * Sort the return from getFilteredItems so that any item with and item.id that matches this.selectedItems is placed first\n   */\n  sortFilteredItems(items) {\n    if (items.length > 0) {\n      items\n        .filter(item => this.selectedItems.has(item.id))\n        .forEach(item => {\n        const index = items.indexOf(item);\n        items.splice(index, 1);\n        items.unshift(item);\n      });\n    }\n    return items;\n  }\n  /**\n   * render() function\n   * Always the last one in the class.\n   */\n  render() {\n    const selectElements = this.returnFilteredOrNonFiltered();\n    return (h(Host, { role: \"combobox\", \"aria-expanded\": this.listOpen ? \"true\" : \"false\", \"aria-owns\": this.listOpen ? \"duet-combobox-list-element\" : undefined, \"aria-haspopup\": \"listbox\", class: {\n        \"duet-combobox\": true,\n        [`duet-theme-${this.theme}`]: true,\n      } }, h(\"slot\", null), this.isSafari && (h(\"duet-visually-hidden\", { \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", \"aria-relevant\": \"all\" }, this.selectionMsg)), h(\"div\", { role: \"list\", class: {\n        \"duet-combobox-list\": true,\n        open: this.listOpen,\n      }, ref: el => (this.listContainer = el) }, h(\"ul\", { role: \"listbox\", ref: el => (this.listElement = el), id: \"duet-combobox-list-element\", class: \"listbox\" }, this.processedItems &&\n      selectElements.map((item, index) => {\n        return (h(DuetComboBoxSelect, { item: item, active: index === this.activeItem, selected: this.selectedItems.has(item.id), search: this.inputValue, total: selectElements.length, clickHandler: e => this.onListClick(e, item), label: this.formatLabel(item, this.returnFilteredOrNonFiltered().length, this.items.length) }));\n      })))));\n  }\n  get element() { return getElement(this); }\n  static get watchers() { return {\n    \"activeItem\": [\"activeItemHandler\"]\n  }; }\n};\nDuetCombobox.style = duetComboboxCss;\n\nexport { DuetCombobox as duet_combobox };\n","/*!\n * Built with Duet Design System\n */\nconst isArrowLeftKey = (e) => e.keyCode === 37;\nconst isArrowUpKey = (e) => e.keyCode === 38;\nconst isArrowRightKey = (e) => e.keyCode === 39;\nconst isArrowDownKey = (e) => e.keyCode === 40;\nconst isArrowKey = (e) => isArrowDownKey(e) || isArrowRightKey(e) || isArrowUpKey(e) || isArrowLeftKey(e);\nconst isEscapeKey = (e) => e.key === \"Escape\" || e.key === \"Esc\" || e.keyCode === 27;\nconst isTabKey = (e) => e.key === \"Tab\" || e.keyCode === 9;\nconst isBackspaceKey = (e) => e.keyCode === 8;\nconst isSpaceKey = (e) => e.key === \"Space\" || e.keyCode === 32;\nconst isPlusKey = (e) => e.key === \"+\" || e.keyCode === 43;\nconst isMinusKey = (e) => e.key === \"-\" || e.keyCode === 45;\nconst isQuestionKey = (e) => e.key === \"?\";\nconst isEnterKey = (e) => e.key === \"Enter\" || e.keyCode === 13;\nconst isKeyboardClick = (e) => isEnterKey(e) || isSpaceKey(e);\nconst isNumber = (e) => (e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105);\n\nexport { isArrowRightKey as a, isArrowUpKey as b, isArrowDownKey as c, isArrowLeftKey as d, isBackspaceKey as e, isEscapeKey as f, isSpaceKey as g, isQuestionKey as h, isKeyboardClick as i, isArrowKey as j, isNumber as k, isMinusKey as l, isPlusKey as m, isEnterKey as n, isTabKey as o };\n","/*!\n * Built with Duet Design System\n */\nimport { c as convertHtmlQuotes } from './string-utils-5954f458.js';\n\nconst localeLookUpTable = {\n  fi: \"fi-FI\",\n  en: \"en-GB\",\n  us: \"en-US\",\n  sv: \"sv-SE\",\n};\nconst localeMonetarySignifierLookUpTable = {\n  fi: \"€\",\n  en: \"£\",\n  us: \"$\",\n  sv: \"€\",\n};\nconst defLanguageArray = [\"fi\", \"en\", \"sv\"];\nconst defaultLanguage = \"fi\";\nconst getCurrentLanguage = () => {\n  return document.documentElement.lang ? document.documentElement.lang.toLowerCase() : defaultLanguage;\n};\nconst isOfTypeLanguage = (keyInput) => {\n  return defLanguageArray.includes(keyInput);\n};\nconst checkForLanguage = (languageString = getCurrentLanguage()) => {\n  if (isOfTypeLanguage(languageString)) {\n    return languageString;\n  }\n  else {\n    return defaultLanguage;\n  }\n};\n/**\n * Returns the current language as a string representation (taken from html lang attribute)\n * If language is not fi|sv|en it will default to \"fi\"\n * @param {string} lang=fi - \"fi\" | \"sv\" | \"en\"\n * @default {string} \"fi\"\n */\nconst getLanguage = (languageString = getCurrentLanguage()) => checkForLanguage(languageString);\n/**\n * Returns the current language and locale\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {string} lang=\"fi\" - \"fi\" | \"sv\" | \"en\" | \"us\"\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n */\nconst getLocale = (lang) => {\n  const returnObj = {\n    locale: localeLookUpTable[lang],\n    money: localeMonetarySignifierLookUpTable[lang],\n  };\n  if (returnObj.locale && returnObj.money) {\n    return returnObj;\n  }\n  throw new Error(`Locale for \"${lang}\" not found`);\n};\n/**\n * Takes any json object that is passed and/or htmlencoded and converts it to proper json\n */\nconst sanitizeString = (string) => {\n  const argIsString = typeof string === \"string\";\n  if (argIsString) {\n    try {\n      return JSON.parse(convertHtmlQuotes(string));\n    }\n    catch (e) {\n      console.log(\"sanitizeString received a string, that didnt parse to json object\", string, e);\n    }\n  }\n  return string;\n};\n/**\n * Returns the current string / object from a given translation object\n * If language is not fi|sv|en it will default to \"fi\"\n * special case where lang can be ALSO be \"us\" in addition to other types - if user decides to override local language\n * @param {object} langObject - {fi: \"finnish\", sv: \"swedish\", en: \"english\"} | string will get JSON.parsed\n * @param {boolean} languageOverride = false - in case you want to override the actual language set in html tag\n * @default {object} {locale: \"fi-FI\", money: \"€\"}\n * @returns {(string|Object)} given example contains {fi:\"something\"} and language===fi this will return \"something\"\n */\nconst getLocaleString = (langObject, languageOverride) => {\n  const obj = sanitizeString(langObject);\n  if (languageOverride) {\n    return obj[checkForLanguage(languageOverride)];\n  }\n  else {\n    return obj[getLanguage()];\n  }\n};\n\nexport { getLanguage as a, getLocale as b, getLocaleString as g, sanitizeString as s };\n","/*!\n * Built with Duet Design System\n */\nfunction isObject(maybeObj) {\n  return Object.prototype.toString.call(maybeObj) === \"[object Object]\";\n}\nconst parsePossibleJSON = (maybeJSON) => {\n  if (Array.isArray(maybeJSON) || isObject(maybeJSON)) {\n    return maybeJSON;\n  }\n  if (typeof maybeJSON === \"string\") {\n    try {\n      return JSON.parse(maybeJSON);\n    }\n    catch (e) {\n      console.warn(e);\n      try {\n        return JSON.parse(convertHtmlQuotes(maybeJSON));\n      }\n      catch (e) {\n        console.warn(e);\n      }\n    }\n  }\n  // undefined is not a type in JSON,\n  // so we use it here to signal invalid input\n  return undefined;\n};\n/**\n * Format string, via simplistic sprintf equivalent\n * @example String.format('{0} is super, but {1} is best! {{0}}', 'Duet', 'Coffee'); -> \"Duet is super, but Coffee ist best! {0}\"\n *\n */\n// @ts-ignore\nif (!String.format) {\n  // @ts-ignore\n  String.format = function (format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return format.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (curlyBrack, index) {\n      return curlyBrack == \"{{\" ? \"{\" : curlyBrack == \"}}\" ? \"}\" : args[index];\n    });\n  };\n}\nconst MATCH_DISALLOWED_CHARS = /[^a-z0-9áéíóúñüöäå \\.,_-]/gim;\nfunction sanitizeString(string) {\n  return string.replace(MATCH_DISALLOWED_CHARS, \"\").trim();\n}\nconst convertHtmlQuotes = string => {\n  if (typeof string === \"string\") {\n    return string.replace(/&quot;/g, '\"').replace(/&apos;/g, '\"');\n  }\n  return string;\n};\n\nexport { convertHtmlQuotes as c, parsePossibleJSON as p, sanitizeString as s };\n","/*!\n * Built with Duet Design System\n */\nconst inheritGlobalTheme = (component) => {\n  // this minor change enables duet-theme-XXXXX instead of just duet-theme-turva\n  const classList = Array.from(document.documentElement.classList).join(\" \") || \"\";\n  const theme = /(duet-theme-)([a-z]*)/gis.exec(classList);\n  if (theme && theme[1] === \"duet-theme-\") {\n    component.theme = theme[2] === \"default\" ? \"\" : theme[2];\n  }\n};\n\nexport { inheritGlobalTheme as i };\n"],"names":["h","F","Fragment","r","registerInstance","c","createEvent","H","Host","g","getElement","d","debounce","n","isEnterKey","f","isEscapeKey","o","isTabKey","b","isArrowUpKey","isArrowDownKey","getLocaleString","a","getLanguage","p","parsePossibleJSON","i","inheritGlobalTheme","SelectSingle","item","search","selected","regEx","RegExp","split","join","undefined","class","name","size","margin","innerHTML","replace","tags","DuetComboBoxSelect","active","total","label","clickHandler","e","preventDefault","keyHandler","option","id","role","tabindex","onClick","onKeyUp","duetComboboxCss","DuetCombobox","constructor","hostRef","duetChange","isSafari","resizeObserver","ResizeObserver","entries","_a","_b","length","currentWidth","target","getBoundingClientRect","width","listContainer","style","processedItems","inputWidth","inputValue","selectionMsg","listOpen","selectedItems","Set","activeItem","accessibleLabelDefaults","en","heading","itemFiltered","fi","sv","accessibleLabels","theme","force","formatter","activeItemHandler","state","input","accessibleActiveDescendant","handleDocumentClick","path","composedPath","isClickOutside","every","el","element","updateInputText","formatItem","componentWillLoad","connectedCallback","test","navigator","userAgent","items","querySelector","addEventListener","updateInputValue","bind","handleInputKeyDownEvent","accessibleAutocomplete","accessibleControls","disconnectedCallback","removeEventListener","listElement","stopPropagation","disconnect","componentDidLoad","observe","onListClick","updateSelectedItems","shouldListBeFiltered","value","filter","has","toLowerCase","returnFilteredOrNonFiltered","getFilteredItems","sortFilteredItems","clear","delete","add","isBlurred","scrollLeft","scrollWidth","emit","component","detail","String","selectActiveItem","nextActiveItem","listItems","scrollToActive","announceActive","filteredItem","formatLabel","activeElement","scrollIntoView","behavior","block","itemsLength","labelString","filteredItems","includes","forEach","index","indexOf","splice","unshift","render","selectElements","open","ref","map","watchers","duet_combobox"],"sourceRoot":"webpack:///"}